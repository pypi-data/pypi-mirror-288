(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[2797],{94114:function(e,t,n){Promise.resolve().then(n.bind(n,51956))},51956:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return E}});var s=n(57437),a=n(83102),r=n(79306),l=n(2265),i=n(48861),o=n(49315),d=n.n(o),c=n(94880),u=n(36013),m=n(72151),h=n(9476),x=n(22585),f=n(26100),g=n(44686),j=n(35304),b=n(95289),p=n(17541),N=n(16288),w=n(52680),y=n(50495),v=n(87138),k=n(89417);let S=["What does the paper say about climate change?","Making a cappuccino at home","Benefits of eating mangoes","How to plan a wedding on a budget","Appointment with Dr. Makinde on 12th August","Class notes lecture 3 on quantum mechanics","Painting concepts for acrylics","Abstract from the paper attention is all you need","Climbing Everest without oxygen","Solving a rubik's cube in 30 seconds","Facts about the planet Mars","How to make a website using React","Fish at the bottom of the ocean","Fish farming Kenya 2021","How to make a cake without an oven","Installing a solar panel at home"];function _(e){var t;let n=e.note,a=(n.additional.file||"").startsWith("http"),r=a?n.additional.heading:n.additional.file.split("/").pop(),l=(0,k.L)(r||".txt","h-4 w-4 inline mr-2");return(0,s.jsxs)(u.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg bg-gradient-to-b from-background to-slate-50 dark:to-gray-950 border border-muted mb-4",children:[(0,s.jsx)(u.Ol,{children:(0,s.jsxs)(u.ll,{className:"inline-flex gap-2",children:["notion"===(t=n.additional.source)?(0,s.jsx)(m.F,{className:"text-muted-foreground"}):"github"===t?(0,s.jsx)(h.b,{className:"text-muted-foreground"}):(0,s.jsx)(x.S,{className:"text-muted-foreground"}),r]})}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)("div",{className:"line-clamp-4 text-muted-foreground",children:n.entry}),(0,s.jsxs)(y.z,{onClick:()=>e.setFocusSearchResult(n),variant:"ghost",className:"p-0 mt-2 text-orange-400 hover:bg-inherit",children:["See content",(0,s.jsx)(f.o,{className:"inline ml-2"})]})]}),(0,s.jsx)(u.eW,{children:a?(0,s.jsxs)("a",{href:n.additional.file,target:"_blank",className:"underline text-sm bg-muted p-1 rounded-lg text-muted-foreground",children:[(0,s.jsx)(g.a,{className:"inline m-2"}),n.additional.file]}):(0,s.jsxs)("div",{className:"bg-muted p-2 text-sm rounded-lg text-muted-foreground",children:[l,n.additional.file]})})]})}function E(){(0,r.G)();let[e,t]=(0,l.useState)(""),[n,o]=(0,l.useState)(!1),[m,h]=(0,l.useState)("Search"),[x,f]=(0,l.useState)(null),[E,C]=(0,l.useState)(!1),[F,W]=(0,l.useState)(null),[L,M]=(0,l.useState)(""),T=(0,l.useRef)(null);function Z(){!E&&e.trim()&&fetch("/api/search?q=".concat(encodeURIComponent(e),"&client=web"),{method:"GET",headers:{"Content-Type":"application/json"}}).then(e=>e.json()).then(e=>{f(e),C(!1)}).catch(e=>{console.error("Error:",e)})}return(0,l.useEffect)(()=>{o(window.innerWidth<786),window.addEventListener("resize",()=>{o(window.innerWidth<786)}),M(S[Math.floor(Math.random()*S.length)])},[]),(0,l.useEffect)(()=>{h(n?"":"Search")},[n]),(0,l.useEffect)(()=>{if(e.trim())return W(null),T.current&&clearTimeout(T.current),e.trim()&&(T.current=setTimeout(()=>{Z()},750)),()=>{T.current&&clearTimeout(T.current)}},[e]),(0,s.jsxs)("div",{children:[(0,s.jsx)("div",{className:"h-full ".concat(d().sidePanel),children:(0,s.jsx)(i.Z,{conversationId:null,uploadedFiles:[],isMobileWidth:n})}),(0,s.jsx)("div",{className:"".concat(d().searchLayout),children:(0,s.jsx)("div",{className:"md:w-3/4 sm:w-full mx-auto pt-6 md:pt-8",children:(0,s.jsxs)("div",{className:"p-4 md:w-3/4 sm:w-full mx-auto",children:[(0,s.jsxs)("div",{className:"flex justify-between items-center border-2 border-muted p-1 gap-1 rounded-lg",children:[(0,s.jsx)(a.I,{autoFocus:!0,className:"border-none pl-4",onChange:e=>t(e.currentTarget.value),onKeyDown:e=>"Enter"===e.key&&Z(),type:"search",placeholder:"Search Documents"}),(0,s.jsxs)("button",{className:"px-2 gap-2 inline-flex items-center rounded border-l border-gray-300 hover:text-gray-500",onClick:()=>Z(),children:[(0,s.jsx)(j.Y,{className:"h-4 w-4"}),(0,s.jsx)("span",{children:"Find"})]})]}),F&&(0,s.jsxs)("div",{className:"mt-4",children:[(0,s.jsxs)(y.z,{onClick:()=>W(null),className:"mb-4",variant:"outline",children:[(0,s.jsx)(b.X,{className:"inline mr-2"}),"Back"]}),function(e){let t=(e.additional.file||"").startsWith("http"),n=t?e.additional.heading:e.additional.file.split("/").pop(),a=(0,k.L)(n||".txt","h-4 w-4 inline mr-2");return(0,s.jsxs)(u.Zb,{className:"bg-secondary h-full shadow-sm rounded-lg bg-gradient-to-b from-background to-slate-50 dark:to-gray-950 border border-muted mb-4",children:[(0,s.jsx)(u.Ol,{children:(0,s.jsx)(u.ll,{children:n})}),(0,s.jsx)(u.eW,{children:t?(0,s.jsxs)("a",{href:e.additional.file,target:"_blank",className:"underline text-sm bg-muted p-3 rounded-lg text-muted-foreground flex items-center gap-2",children:[(0,s.jsx)(g.a,{className:"inline"}),e.additional.file]}):(0,s.jsxs)("div",{className:"bg-muted p-3 text-sm rounded-lg text-muted-foreground flex items-center gap-2",children:[a,e.additional.file]})}),(0,s.jsx)(u.aY,{children:(0,s.jsx)("div",{className:"text-m",children:e.entry})})]})}(F)]}),!F&&x&&x.length>0&&(0,s.jsx)("div",{className:"mt-4 max-w-[92vw] break-all",children:(0,s.jsx)(c.x,{className:"h-[80vh]",children:x.map((e,t)=>(0,s.jsx)(_,{note:e,setFocusSearchResult:W},e["corpus-id"]))})}),null==x&&(0,s.jsxs)(u.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,s.jsxs)(u.Ol,{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(u.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,s.jsx)(p.r,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,s.jsx)(u.ll,{className:"text-center",children:"Search across your documents"})]}),(0,s.jsxs)(u.aY,{className:"text-muted-foreground items-center justify-center text-center flex",children:[(0,s.jsx)(N.v,{className:"inline mr-2"})," ",L]})]}),x&&0===x.length&&(0,s.jsxs)(u.Zb,{className:"flex flex-col items-center justify-center border-none shadow-none",children:[(0,s.jsxs)(u.Ol,{className:"flex flex-col items-center justify-center",children:[(0,s.jsx)(u.SZ,{className:"border-muted-foreground border w-fit rounded-lg mb-2 text-center text-lg p-4",children:(0,s.jsx)(w.D,{weight:"fill",className:"text-muted-foreground h-10 w-10"})}),(0,s.jsx)(u.ll,{className:"text-center",children:"No documents found"})]}),(0,s.jsxs)(u.aY,{children:[(0,s.jsx)("div",{className:"text-muted-foreground items-center justify-center text-center flex",children:"To use search, upload your docs to your account."}),(0,s.jsx)(v.default,{href:"https://docs.khoj.dev/data-sources/share_your_data",className:"no-underline",children:(0,s.jsx)("div",{className:"mt-4 text-center text-secondary-foreground bg-secondary w-fit m-auto p-2 rounded-lg",children:"Learn More"})})]})]})]})})})]})}},49315:function(e){e.exports={searchLayout:"search_searchLayout__fP3m0",sidePanel:"search_sidePanel__myfc9"}}},function(e){e.O(0,[3630,9001,3062,743,6297,1603,9417,2971,7023,1744],function(){return e(e.s=94114)}),_N_E=e.O()}]);