(self.webpackChunk_atoti_jupyterlab_extension=self.webpackChunk_atoti_jupyterlab_extension||[]).push([[4836],{95851:(e,n,t)=>{"use strict";t.d(n,{t:()=>f});var r=t(24870),a=t.n(r),i=t(6228),s=t.n(i),o=t(67737),c=t(46102),l=t(59621),u=t(6934),d=t(7114),h=t(99837);const m=["DD-MM-YYYY","MM-DD-YYYY","YYYY-MM-DD"];function f({captionForTotals:e,cube:n,mapping:t,member:r,style:i}){if(!r)return"";const s=r.namePath.length-1,f=r.captionPath?.[s]??"";if((0,o.t)(r)){const e=(0,h.v)({mapping:t,tuple:[r]});return e?(0,u.getKpiPropertyCaption)(e):f}const p=(0,c.q)(r,n);if(!p.slicing&&0===s)return e;const v=Object.values(p.levels).find((({index:e})=>e===s)),y=v?i?.measures?.[(0,l.hD)(r.dimensionName,r.hierarchyName,v.name)]:void 0;if("TIME"===v?.type&&y){const e=y?.dateFormat;return e?a()(f,m).format(e):f}const x=""===f?NaN:Number(f);return f&&!isNaN(x)&&y?(0,d.m)({value:x,numericFieldStyle:y,valueFormattedByAtotiServer:f}):f}a().extend(s())},99837:(e,n,t)=>{"use strict";t.d(n,{v:()=>i});var r=t(67737),a=t(6934);function i({mapping:e,tuple:n}){if(!n)return;const t=n.find(r.t)?.namePath[0];for(const n of e.measures??[])if((0,a.isKpiPropertyInMapping)(n)&&n.underlyingMeasureName===t)return n}},40735:(e,n,t)=>{"use strict";t.d(n,{F:()=>m});var r=t(31529),a=t(36824),i=t(90414),s=t(14141),o=t(98014),c=t(11120),l=t(69301),u=t(84028);const d=e=>{const n=e.slice(0,(0,r.lastIndexOf)(e,"]")+1),[t,a,i]=(0,u._)(n);return{dimensionName:t,hierarchyName:a,levelName:i}},h=(e,n)=>{if(!n||!(0,l.r)(e))return!1;const t=(0,o._)(e),r=n.find((e=>(0,l.r)(e.name,{measureName:t})));return!!r&&(0,i.k)(r.expression)&&["member_value","member_caption","iif"].includes(r.expression.name.toLowerCase())};function m(e,{cube:n}){const t=(0,s.T)(e,(e=>(0,i.k)(e,"order")));if(void 0===t)return;const r=t.match,l=r.arguments[1],u=r.arguments[2]?r.arguments[2].value:"ASC";if(h(l,e.withClause)){const e=(0,o._)(l);return{orderMode:u,levelCoordinates:d(e)}}return function(e){return(0,a.E)(e)||(0,i.k)(e,"()")&&e.arguments.every(a.E)}(l)?{orderMode:u,tupleCoordinates:(0,c.S)(l,n)}:void 0}},11120:(e,n,t)=>{"use strict";t.d(n,{S:()=>i});var r=t(45152),a=t(90414);const i=(e,n)=>((0,a.k)(e,"()")?e.arguments:[e]).map((e=>(0,r.U)(e,{cube:n})))},36191:(e,n,t)=>{"use strict";t.d(n,{n:()=>a});var r=t(67737);function a(e){return(0,r.t)(e)}},3898:(e,n,t)=>{"use strict";function r(e){return"Measures"===e.type}t.d(n,{g:()=>r})},98750:(e,n,t)=>{"use strict";t.d(n,{k:()=>i});var r=t(67737),a=t(46102);function i(e,n){const t=[];return e.maxLevelPerHierarchy.forEach(((i,s)=>{const{dimension:o,hierarchy:c}=e.hierarchies[s];for(let l=e.positions.length>0&&!(0,r.t)({dimensionName:o})&&!(0,a.q)({dimensionName:o,hierarchyName:c},n).slicing?1:0;l<i;l++)t.push({hierarchyIndex:s,levelIndex:l})})),t}},74110:(e,n,t)=>{"use strict";t.d(n,{G:()=>o});var r=t(23446),a=t(67737),i=t(46102),s=t(59621);const o=({columnIndex:e,cube:n,tableStateDerivedFromCellSet:t})=>{if(!n)return null;const{columnsAxis:o,numberOfFrozenColumns:c,rowHeaderIndices:l,rowsAxis:u}=t;if(e<c){if(u){const{hierarchyIndex:t,levelIndex:r}=l[e],{dimension:o,hierarchy:c}=u.hierarchies[t];if((0,a.t)({dimensionName:o}))return"[Measures].[Measures]";const d=(0,i.q)({dimensionName:o,hierarchyName:c},n);return(0,s.hD)(o,c,Object.keys(d.levels)[r])}}else if(o){const n=e-(o.range?.from||0)-c,t=o.positions[n];if(t){const e=t.map(((e,n)=>({dimensionName:o.hierarchies[n].dimension,hierarchyName:o.hierarchies[n].hierarchy,...e})));return(0,r.getTupleKey)(e)}}return null}},58441:(e,n,t)=>{"use strict";t.d(n,{b:()=>i});var r=t(67737),a=t(46102);const i=(e,n)=>{if(!e||!n)return[];const t=[];return e.hierarchies.forEach((({dimension:i,hierarchy:s},o)=>{if((0,r.t)({dimensionName:i}))t.push({dimensionName:"Measures",hierarchyName:"Measures"});else{const r=(0,a.q)({dimensionName:i,hierarchyName:s},n);t.push(...Object.values(r.levels).slice(r.slicing?0:1,e.maxLevelPerHierarchy[o]).map((e=>({dimensionName:i,hierarchyName:s,levelName:e.name}))))}})),t}},25027:(e,n,t)=>{"use strict";function r({axis:e,defaultMeasure:n,positionIndex:t}){if(!e)return n?[{captionPath:n.captionPath,dimensionName:"Measures",hierarchyName:"Measures",namePath:n.path,properties:{}}]:null;const r=e?.range?.from||0;return e.positions[t-r]?.map(((n,t)=>({dimensionName:e.hierarchies[t].dimension,hierarchyName:e.hierarchies[t].hierarchy,...n})))||null}t.d(n,{P:()=>r})},75939:(e,n,t)=>{"use strict";t.d(n,{P:()=>P});var r=t(23446),a=t(67737),i=t(45455),s=t(7114);function o({cell:e,style:n,columnIndex:t,data:i,rowIndex:o,hierarchyIndicesInCellSet:c,locale:l}){const u=Number(e.value),d=e.formattedValue;if(isNaN(u)||!n)return d;const h=(0,r.getTuple)({data:i,rowIndex:o,columnIndex:t,hierarchyIndicesInCellSet:c});if(!h)return d;const m=h.find(a.t),f=m&&n?.measures?.[m.namePath[0]];return(0,s.m)({value:u,numericFieldStyle:f,valueFormattedByAtotiServer:d,locale:l})}var c=t(20428),l=t(89801);const u=e=>e.properties.map((e=>(0,l.A)(e)));var d=t(84028),h=t(40735),m=t(36191),f=t(3898),p=t(98750),v=t(24870),y=t.n(v),x=t(6228),g=t.n(x),I=t(95851),M=t(14378);function N({mapping:e,captionForTotals:n,cube:t,tuple:r,hierarchyIndex:a,levelIndex:i,convertValueToNumber:s=!0,style:o}){if(!r)return{caption:"",value:""};if(a>=r.length||i>=r[a].namePath.length)return{caption:n,value:n};const c=(0,M.A)(r,{hierarchyIndex:a,levelIndex:i}),l=c?.[a],u=(0,I.t)({captionForTotals:n,cube:t,mapping:e,member:l,style:o}),d=""===u?NaN:Number(u);return{caption:u,value:s&&!isNaN(d)?d:u}}y().extend(g());var w=t(46102);function b({cube:e,tuple:n}){let t=-1;return n?.forEach((n=>{t+=n.namePath.length,(0,a.t)(n)||(0,w.q)(n,e).slicing||(t-=1)})),Math.max(0,t)}var Y=t(58441),D=t(25027);const P=e=>{const{captionForMeasures:n,captionForTotals:t,captionForValue:s,cube:l,doesConvertHeaderCellValuesToNumbers:v,isRowHeaderTree:y,mapping:x,mdx:g,style:I,rowIndexMapping:M,locale:w}=e,P=y?(0,r.addMissingTotalRows)(e.data,{cube:l,rowIndexMapping:M}):e.data;let S,C,L;for(let e=0;e<P.axes.length;e++){const n=P.axes[e];n.id===c.U.columns?C=n:n.id===c.U.rows?S=n:n.id===c.U.slicer&&(L=n)}const T=P.defaultMembers.find(a.t),A=(L?.hierarchies??[]).findIndex(a.t),F=-1!==A,O=S?.hierarchies.some(a.t),H=(C?.hierarchies??[]).findIndex(a.t),R=-1!==H,_={},k=g?.axes.flatMap(u).map((e=>(0,d._)(e).at(-1))).filter((e=>"CHILDREN_CARDINALITY"!==e)),$=C?(0,r.getAxisLength)(C):F||O?1:0,E=S?(0,r.getAxisLength)(S):1,[[z,U],[V,Z]]=[S,C].map((e=>{const n=(0,Y.b)(e,l),t=l?n.map((e=>(0,m.n)(e)?{type:"Measures"}:(0,i.r)(e,l))):[];return[n,t]})),[j,q]=[S,C].map((e=>e&&l?(0,p.k)(e,l):[])),B=y?Math.min(1,j.length):j.length,K=Math.max(q.length,1),X=new Array(K+E).fill(null).map((()=>new Array(B+$).fill(null)));if(U)for(let e=0;e<B;e++){const t=U[e],r=(0,f.g)(t)?n:t?.caption??null;for(let n=0;n<K;n++)X[n][e]={caption:r,value:r}}if(S&&l){const e=S.range?.from||0;for(let n=0;n<S.positions.length;n++){const r=n+e+K,a=(0,D.P)({axis:S,defaultMeasure:T,positionIndex:n+e});for(let e=0;e<B;e++){const n=l&&y?b({cube:l,tuple:a}):e,{hierarchyIndex:i,levelIndex:s}=j[n],{caption:o,value:c}=N({captionForTotals:t,cube:l,convertValueToNumber:v,style:I,tuple:a,hierarchyIndex:i,levelIndex:s,mapping:x});X[r][e]={caption:o,value:c,hierarchyIndex:i,levelIndex:s,headerDepth:n}}}}if(C&&l){const e=C.range?.from||0;for(let n=0;n<C.positions.length;n++){const r=n+e+B,a=(0,D.P)({axis:C,defaultMeasure:T,positionIndex:n+e});for(let e=0;e<K;e++){const{hierarchyIndex:n,levelIndex:i}=q[e],{caption:s,value:o}=N({...C,captionForTotals:t,cube:l,convertValueToNumber:v,style:I,tuple:a,hierarchyIndex:n,levelIndex:i,mapping:x});X[e][r]={caption:s,value:o,hierarchyIndex:n,levelIndex:i,headerDepth:e}}if(R&&a){const t=a[H].namePath[0];_[t]||(_[t]=[]),_[t].push(n+e)}}}else if(F){const e=B,n=0,t=(0,D.P)({axis:L,defaultMeasure:T,positionIndex:0}),r=t?.[A],a=r?.captionPath[0];X[n][e]={caption:a,value:a,hierarchyIndex:0,levelIndex:0,headerDepth:0}}else O&&(X[0][B]={caption:s,value:s});const G=(0,r.getHierarchyIndicesInCellSet)(P);(F||R||O)&&P.cells.forEach((e=>{const n=Math.floor(e.ordinal/$),t=e.ordinal%$;X[K+n][B+t]={caption:o({cell:e,data:P,hierarchyIndicesInCellSet:G,columnIndex:t,rowIndex:n,style:I,locale:w}),value:e.value,properties:e.properties}}));const{columnIndexImpactingRowStyle:J,styleImpactingRows:Q}=function({columnIndicesPerMeasure:e,style:n}){const t=n?.tupleImpactingRowStyle;if(!t)return;let r;for(const e of t)if("Measures"===e.dimensionName){r=e.namePath[0];break}return r?{columnIndexImpactingRowStyle:e[r][0],styleImpactingRows:n?.measures?.[r]}:void 0}({columnIndicesPerMeasure:_,style:I})??{columnIndexImpactingRowStyle:void 0,styleImpactingRows:void 0},W=g&&l?(0,h.F)(g,{cube:l}):void 0;return{cells:X,columnIndexImpactingRowStyle:J,cube:l,data:P,defaultMeasure:T,hierarchyIndicesInCellSet:G,indexOfMeasureOnSlicer:A,isRowHeaderTree:y,mapping:x,memberPropertyKeys:k,numberOfRowsInBody:E,numberOfColumnsInBody:$,numberOfFrozenColumns:B,numberOfFrozenRows:K,staticHeaderCoordinatesOnRows:z,staticHeaderCoordinatesOnColumns:V,staticHeadersOnColumns:Z,staticHeadersOnRows:U,rowsAxis:S,columnsAxis:C,rowHeaderIndices:j,columnHeaderIndices:q,slicerAxis:L,sort:W,styleImpactingRows:Q}}},14378:(e,n,t)=>{"use strict";function r(e,{hierarchyIndex:n,levelIndex:t}){const r=e[n];return[...e.slice(0,n),{...r,captionPath:r.captionPath.slice(0,t+1),namePath:r.namePath.slice(0,t+1)}]}t.d(n,{A:()=>r})},6228:function(e){e.exports=function(){"use strict";var e={LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY h:mm A",LLLL:"dddd, MMMM D, YYYY h:mm A"},n=/(\[[^[]*\])|([-_:/.,()\s]+)|(A|a|YYYY|YY?|MM?M?M?|Do|DD?|hh?|HH?|mm?|ss?|S{1,3}|z|ZZ?)/g,t=/\d\d/,r=/\d\d?/,a=/\d*[^-_:/,()\s\d]+/,i={},s=function(e){return(e=+e)+(e>68?1900:2e3)},o=function(e){return function(n){this[e]=+n}},c=[/[+-]\d\d:?(\d\d)?|Z/,function(e){(this.zone||(this.zone={})).offset=function(e){if(!e)return 0;if("Z"===e)return 0;var n=e.match(/([+-]|\d\d)/g),t=60*n[1]+(+n[2]||0);return 0===t?0:"+"===n[0]?-t:t}(e)}],l=function(e){var n=i[e];return n&&(n.indexOf?n:n.s.concat(n.f))},u=function(e,n){var t,r=i.meridiem;if(r){for(var a=1;a<=24;a+=1)if(e.indexOf(r(a,0,n))>-1){t=a>12;break}}else t=e===(n?"pm":"PM");return t},d={A:[a,function(e){this.afternoon=u(e,!1)}],a:[a,function(e){this.afternoon=u(e,!0)}],S:[/\d/,function(e){this.milliseconds=100*+e}],SS:[t,function(e){this.milliseconds=10*+e}],SSS:[/\d{3}/,function(e){this.milliseconds=+e}],s:[r,o("seconds")],ss:[r,o("seconds")],m:[r,o("minutes")],mm:[r,o("minutes")],H:[r,o("hours")],h:[r,o("hours")],HH:[r,o("hours")],hh:[r,o("hours")],D:[r,o("day")],DD:[t,o("day")],Do:[a,function(e){var n=i.ordinal,t=e.match(/\d+/);if(this.day=t[0],n)for(var r=1;r<=31;r+=1)n(r).replace(/\[|\]/g,"")===e&&(this.day=r)}],M:[r,o("month")],MM:[t,o("month")],MMM:[a,function(e){var n=l("months"),t=(l("monthsShort")||n.map((function(e){return e.slice(0,3)}))).indexOf(e)+1;if(t<1)throw new Error;this.month=t%12||t}],MMMM:[a,function(e){var n=l("months").indexOf(e)+1;if(n<1)throw new Error;this.month=n%12||n}],Y:[/[+-]?\d+/,o("year")],YY:[t,function(e){this.year=s(e)}],YYYY:[/\d{4}/,o("year")],Z:c,ZZ:c};function h(t){var r,a;r=t,a=i&&i.formats;for(var s=(t=r.replace(/(\[[^\]]+])|(LTS?|l{1,4}|L{1,4})/g,(function(n,t,r){var i=r&&r.toUpperCase();return t||a[r]||e[r]||a[i].replace(/(\[[^\]]+])|(MMMM|MM|DD|dddd)/g,(function(e,n,t){return n||t.slice(1)}))}))).match(n),o=s.length,c=0;c<o;c+=1){var l=s[c],u=d[l],h=u&&u[0],m=u&&u[1];s[c]=m?{regex:h,parser:m}:l.replace(/^\[|\]$/g,"")}return function(e){for(var n={},t=0,r=0;t<o;t+=1){var a=s[t];if("string"==typeof a)r+=a.length;else{var i=a.regex,c=a.parser,l=e.slice(r),u=i.exec(l)[0];c.call(n,u),e=e.replace(u,"")}}return function(e){var n=e.afternoon;if(void 0!==n){var t=e.hours;n?t<12&&(e.hours+=12):12===t&&(e.hours=0),delete e.afternoon}}(n),n}}return function(e,n,t){t.p.customParseFormat=!0,e&&e.parseTwoDigitYear&&(s=e.parseTwoDigitYear);var r=n.prototype,a=r.parse;r.parse=function(e){var n=e.date,r=e.utc,s=e.args;this.$u=r;var o=s[1];if("string"==typeof o){var c=!0===s[2],l=!0===s[3],u=c||l,d=s[2];l&&(d=s[2]),i=this.$locale(),!c&&d&&(i=t.Ls[d]),this.$d=function(e,n,t){try{if(["x","X"].indexOf(n)>-1)return new Date(("X"===n?1e3:1)*e);var r=h(n)(e),a=r.year,i=r.month,s=r.day,o=r.hours,c=r.minutes,l=r.seconds,u=r.milliseconds,d=r.zone,m=new Date,f=s||(a||i?1:m.getDate()),p=a||m.getFullYear(),v=0;a&&!i||(v=i>0?i-1:m.getMonth());var y=o||0,x=c||0,g=l||0,I=u||0;return d?new Date(Date.UTC(p,v,f,y,x,g,I+60*d.offset*1e3)):t?new Date(Date.UTC(p,v,f,y,x,g,I)):new Date(p,v,f,y,x,g,I)}catch(e){return new Date("")}}(n,o,r),this.init(),d&&!0!==d&&(this.$L=this.locale(d).$L),u&&n!=this.format(o)&&(this.$d=new Date("")),i={}}else if(o instanceof Array)for(var m=o.length,f=1;f<=m;f+=1){s[1]=o[f-1];var p=t.apply(this,s);if(p.isValid()){this.$d=p.$d,this.$L=p.$L,this.init();break}f===m&&(this.$d=new Date(""))}else a.call(this,e)}}}()}}]);