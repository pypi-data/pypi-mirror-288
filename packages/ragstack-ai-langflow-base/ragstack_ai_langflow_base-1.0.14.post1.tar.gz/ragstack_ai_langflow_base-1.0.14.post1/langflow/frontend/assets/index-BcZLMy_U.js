import{c8 as Kn,r as a,j as e,ae as $n,I as v,as as re,u as F,c9 as Hn,ca as Vn,bl as Le,cb as Oe,cc as zn,bq as le,br as ee,cd as Xn,bp as N,ce as qn,cf as Yn,cg as Wn,ch as Zn,bo as H,ci as Fe,cj as Qn,ck as Ge,cl as Jn,bi as et,cm as nt,cn as tt,co as ot,bm as st,bn as Pe,c as L,U as rt,aQ as at,a as it,g as ct,cp as lt,l as P,B as G,M as dt,cq as ut,cr as mt,ab as q,z as Be,am as ft,i as Y,cs as pt,S as xt,ct as ht,at as gt,A as wt,a9 as he,cu as vt,ac as Nt,ar as jt,ag as ge,cv as Mt,aT as Ct,cw as bt,ax as St,cx as _t,cy as yt,aO as X}from"./index-DYkSp9FA.js";import{P as Rt,a as Dt,b as Et}from"./popover-DF2l564d.js";import{c as It,a as Ue,R as Pt,I as Tt,u as kt}from"./index-D0UpKyR9.js";import{S as Te}from"./separator-C8Y4kPf6.js";import{a as At,E as Lt,T as ke}from"./index-BaEpDvL8.js";import{u as Ot}from"./shortcuts-DpxtRUV4.js";function Ft(n){return Kn({tag:"svg",attr:{viewBox:"0 0 24 24",fill:"currentColor"},child:[{tag:"path",attr:{d:"M18.2048 2.25H21.5128L14.2858 10.51L22.7878 21.75H16.1308L10.9168 14.933L4.95084 21.75H1.64084L9.37084 12.915L1.21484 2.25H8.04084L12.7538 8.481L18.2048 2.25ZM17.0438 19.77H18.8768L7.04484 4.126H5.07784L17.0438 19.77Z"},child:[]}]})(n)}function Gt({dropItem:n,removeAlert:s}){const[t,o]=a.useState(!0),r=n.type;return e.jsx($n,{className:"noflow nowheel nopan nodelete nodrag relative",show:t,appear:!0,enter:"transition-transform duration-500 ease-out",enterFrom:"transform translate-x-[-100%]",enterTo:"transform translate-x-0",leave:"transition-transform duration-500 ease-in",leaveFrom:"transform translate-x-0",leaveTo:"transform translate-x-[-100%]",children:r==="error"?e.jsxs("div",{className:"mx-2 mb-2 flex rounded-md bg-error-background p-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{name:"XCircle",className:"h-5 w-5 text-status-red","aria-hidden":"true"})}),e.jsxs("div",{className:"ml-3",children:[e.jsx("h3",{className:"text-sm font-medium text-error-foreground word-break-break-word",children:n.title}),n.list?e.jsx("div",{className:"mt-2 text-sm text-error-foreground",children:e.jsx("ul",{className:"list-disc space-y-1 pl-5",children:n.list.map((i,l)=>e.jsx("li",{className:"word-break-break-word",children:i},l))})}):e.jsx(e.Fragment,{})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{type:"button",onClick:()=>{o(!1),setTimeout(()=>{s(n.id)},500)},className:"inline-flex rounded-md p-1.5 text-status-red",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx(v,{name:"X",className:"h-4 w-4 text-error-foreground","aria-hidden":"true"})]})})})]},n.id):r==="notice"?e.jsxs("div",{className:"mx-2 mb-2 flex rounded-md bg-info-background p-3",children:[e.jsx("div",{className:"flex-shrink-0 cursor-help",children:e.jsx(v,{name:"Info",className:"h-5 w-5 text-status-blue","aria-hidden":"true"})}),e.jsxs("div",{className:"ml-3 flex-1 md:flex md:justify-between",children:[e.jsx("p",{className:"text-sm font-medium text-info-foreground",children:n.title}),e.jsx("p",{className:"mt-3 text-sm md:ml-6 md:mt-0",children:n.link?e.jsx(re,{to:n.link,className:"whitespace-nowrap font-medium text-info-foreground hover:text-accent-foreground",children:"Details"}):e.jsx(e.Fragment,{})})]}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{type:"button",onClick:()=>{o(!1),setTimeout(()=>{s(n.id)},500)},className:"inline-flex rounded-md p-1.5 text-info-foreground",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx(v,{name:"X",className:"h-4 w-4 text-info-foreground","aria-hidden":"true"})]})})})]},n.id):e.jsxs("div",{className:"mx-2 mb-2 flex rounded-md bg-success-background p-3",children:[e.jsx("div",{className:"flex-shrink-0",children:e.jsx(v,{name:"CheckCircle2",className:"h-5 w-5 text-status-green","aria-hidden":"true"})}),e.jsx("div",{className:"ml-3",children:e.jsx("p",{className:"text-sm font-medium text-success-foreground",children:n.title})}),e.jsx("div",{className:"ml-auto pl-3",children:e.jsx("div",{className:"-mx-1.5 -my-1.5",children:e.jsxs("button",{type:"button",onClick:()=>{o(!1),setTimeout(()=>{s(n.id)},500)},className:"inline-flex rounded-md p-1.5 text-status-green",children:[e.jsx("span",{className:"sr-only",children:"Dismiss"}),e.jsx(v,{name:"X",className:"h-4 w-4 text-success-foreground","aria-hidden":"true"})]})})})]},n.id)})}function Bt({children:n}){const s=F(c=>c.notificationList),t=F(c=>c.clearNotificationList),o=F(c=>c.removeFromNotificationList),r=F(c=>c.setNotificationCenter),[i,l]=a.useState(!1);return e.jsxs(Rt,{open:i,onOpenChange:c=>{l(c),c&&r(!1)},children:[e.jsx(Dt,{children:n}),e.jsxs(Et,{className:"noflow nowheel nopan nodelete nodrag flex h-[500px] w-[500px] flex-col",children:[e.jsxs("div",{className:"text-md flex flex-row justify-between pl-3 font-medium text-foreground",children:["Notifications",e.jsxs("div",{className:"flex gap-3 pr-3",children:[e.jsx("button",{className:"text-foreground hover:text-status-red",onClick:()=>{l(!1),setTimeout(t,100)},children:e.jsx(v,{name:"Trash2",className:"h-4 w-4"})}),e.jsx("button",{className:"text-foreground opacity-70 hover:opacity-100",onClick:()=>{l(!1)},children:e.jsx(Hn,{className:"h-4 w-4"})})]})]}),e.jsx("div",{className:"text-high-foreground mt-3 flex h-full w-full flex-col overflow-y-scroll scrollbar-hide",children:s.length!==0?s.map((c,x)=>e.jsx(Gt,{dropItem:c,removeAlert:o},c.id)):e.jsx("div",{className:"flex h-full w-full items-center justify-center pb-16 text-ring",children:Vn})})]})]})}const Ut="/assets/profile-circle-DTLa9zG_.png";var we=["Enter"," "],Kt=["ArrowDown","PageUp","Home"],Ke=["ArrowUp","PageDown","End"],$t=[...Kt,...Ke],Ht={ltr:[...we,"ArrowRight"],rtl:[...we,"ArrowLeft"]},Vt={ltr:["ArrowLeft"],rtl:["ArrowRight"]},ne="Menu",[Q,zt,Xt]=It(ne),[B,$e]=Le(ne,[Xt,Oe,Ue]),de=Oe(),He=Ue(),[qt,U]=B(ne),[Yt,te]=B(ne),Ve=n=>{const{__scopeMenu:s,open:t=!1,children:o,dir:r,onOpenChange:i,modal:l=!0}=n,c=de(s),[x,m]=a.useState(null),u=a.useRef(!1),d=Fe(i),f=kt(r);return a.useEffect(()=>{const j=()=>{u.current=!0,document.addEventListener("pointerdown",w,{capture:!0,once:!0}),document.addEventListener("pointermove",w,{capture:!0,once:!0})},w=()=>u.current=!1;return document.addEventListener("keydown",j,{capture:!0}),()=>{document.removeEventListener("keydown",j,{capture:!0}),document.removeEventListener("pointerdown",w,{capture:!0}),document.removeEventListener("pointermove",w,{capture:!0})}},[]),e.jsx(tt,{...c,children:e.jsx(qt,{scope:s,open:t,onOpenChange:d,content:x,onContentChange:m,children:e.jsx(Yt,{scope:s,onClose:a.useCallback(()=>d(!1),[d]),isUsingKeyboardRef:u,dir:f,modal:l,children:o})})})};Ve.displayName=ne;var Wt="MenuAnchor",ve=a.forwardRef((n,s)=>{const{__scopeMenu:t,...o}=n,r=de(t);return e.jsx(zn,{...r,...o,ref:s})});ve.displayName=Wt;var Ne="MenuPortal",[Zt,ze]=B(Ne,{forceMount:void 0}),Xe=n=>{const{__scopeMenu:s,forceMount:t,children:o,container:r}=n,i=U(Ne,s);return e.jsx(Zt,{scope:s,forceMount:t,children:e.jsx(le,{present:t||i.open,children:e.jsx(ot,{asChild:!0,container:r,children:o})})})};Xe.displayName=Ne;var I="MenuContent",[Qt,je]=B(I),qe=a.forwardRef((n,s)=>{const t=ze(I,n.__scopeMenu),{forceMount:o=t.forceMount,...r}=n,i=U(I,n.__scopeMenu),l=te(I,n.__scopeMenu);return e.jsx(Q.Provider,{scope:n.__scopeMenu,children:e.jsx(le,{present:o||i.open,children:e.jsx(Q.Slot,{scope:n.__scopeMenu,children:l.modal?e.jsx(Jt,{...r,ref:s}):e.jsx(eo,{...r,ref:s})})})})}),Jt=a.forwardRef((n,s)=>{const t=U(I,n.__scopeMenu),o=a.useRef(null),r=ee(s,o);return a.useEffect(()=>{const i=o.current;if(i)return Xn(i)},[]),e.jsx(Me,{...n,ref:r,trapFocus:t.open,disableOutsidePointerEvents:t.open,disableOutsideScroll:!0,onFocusOutside:N(n.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>t.onOpenChange(!1)})}),eo=a.forwardRef((n,s)=>{const t=U(I,n.__scopeMenu);return e.jsx(Me,{...n,ref:s,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>t.onOpenChange(!1)})}),Me=a.forwardRef((n,s)=>{const{__scopeMenu:t,loop:o=!1,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:l,disableOutsidePointerEvents:c,onEntryFocus:x,onEscapeKeyDown:m,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:j,disableOutsideScroll:w,...S}=n,_=U(I,t),C=te(I,t),M=de(t),b=He(t),k=zt(t),[V,g]=a.useState(null),D=a.useRef(null),p=ee(s,D,_.onContentChange),oe=a.useRef(0),se=a.useRef(""),Fn=a.useRef(0),me=a.useRef(null),Re=a.useRef("right"),fe=a.useRef(0),Gn=w?Jn:a.Fragment,Bn=w?{as:et,allowPinchZoom:!0}:void 0,Un=h=>{var $,Ee;const E=se.current+h,T=k().filter(A=>!A.disabled),O=document.activeElement,pe=($=T.find(A=>A.ref.current===O))==null?void 0:$.textValue,xe=T.map(A=>A.textValue),De=fo(xe,E,pe),z=(Ee=T.find(A=>A.textValue===De))==null?void 0:Ee.ref.current;(function A(Ie){se.current=Ie,window.clearTimeout(oe.current),Ie!==""&&(oe.current=window.setTimeout(()=>A(""),1e3))})(E),z&&setTimeout(()=>z.focus())};a.useEffect(()=>()=>window.clearTimeout(oe.current),[]),qn();const K=a.useCallback(h=>{var T,O;return Re.current===((T=me.current)==null?void 0:T.side)&&xo(h,(O=me.current)==null?void 0:O.area)},[]);return e.jsx(Qt,{scope:t,searchRef:se,onItemEnter:a.useCallback(h=>{K(h)&&h.preventDefault()},[K]),onItemLeave:a.useCallback(h=>{var E;K(h)||((E=D.current)==null||E.focus(),g(null))},[K]),onTriggerLeave:a.useCallback(h=>{K(h)&&h.preventDefault()},[K]),pointerGraceTimerRef:Fn,onPointerGraceIntentChange:a.useCallback(h=>{me.current=h},[]),children:e.jsx(Gn,{...Bn,children:e.jsx(Yn,{asChild:!0,trapped:r,onMountAutoFocus:N(i,h=>{var E;h.preventDefault(),(E=D.current)==null||E.focus({preventScroll:!0})}),onUnmountAutoFocus:l,children:e.jsx(Wn,{asChild:!0,disableOutsidePointerEvents:c,onEscapeKeyDown:m,onPointerDownOutside:u,onFocusOutside:d,onInteractOutside:f,onDismiss:j,children:e.jsx(Pt,{asChild:!0,...b,dir:C.dir,orientation:"vertical",loop:o,currentTabStopId:V,onCurrentTabStopIdChange:g,onEntryFocus:N(x,h=>{C.isUsingKeyboardRef.current||h.preventDefault()}),preventScrollOnEntryFocus:!0,children:e.jsx(Zn,{role:"menu","aria-orientation":"vertical","data-state":un(_.open),"data-radix-menu-content":"",dir:C.dir,...M,...S,ref:p,style:{outline:"none",...S.style},onKeyDown:N(S.onKeyDown,h=>{const T=h.target.closest("[data-radix-menu-content]")===h.currentTarget,O=h.ctrlKey||h.altKey||h.metaKey,pe=h.key.length===1;T&&(h.key==="Tab"&&h.preventDefault(),!O&&pe&&Un(h.key));const xe=D.current;if(h.target!==xe||!$t.includes(h.key))return;h.preventDefault();const z=k().filter($=>!$.disabled).map($=>$.ref.current);Ke.includes(h.key)&&z.reverse(),uo(z)}),onBlur:N(n.onBlur,h=>{h.currentTarget.contains(h.target)||(window.clearTimeout(oe.current),se.current="")}),onPointerMove:N(n.onPointerMove,J(h=>{const E=h.target,T=fe.current!==h.clientX;if(h.currentTarget.contains(E)&&T){const O=h.clientX>fe.current?"right":"left";Re.current=O,fe.current=h.clientX}}))})})})})})})});qe.displayName=I;var no="MenuGroup",Ce=a.forwardRef((n,s)=>{const{__scopeMenu:t,...o}=n;return e.jsx(H.div,{role:"group",...o,ref:s})});Ce.displayName=no;var to="MenuLabel",Ye=a.forwardRef((n,s)=>{const{__scopeMenu:t,...o}=n;return e.jsx(H.div,{...o,ref:s})});Ye.displayName=to;var ie="MenuItem",Ae="menu.itemSelect",ue=a.forwardRef((n,s)=>{const{disabled:t=!1,onSelect:o,...r}=n,i=a.useRef(null),l=te(ie,n.__scopeMenu),c=je(ie,n.__scopeMenu),x=ee(s,i),m=a.useRef(!1),u=()=>{const d=i.current;if(!t&&d){const f=new CustomEvent(Ae,{bubbles:!0,cancelable:!0});d.addEventListener(Ae,j=>o==null?void 0:o(j),{once:!0}),nt(d,f),f.defaultPrevented?m.current=!1:l.onClose()}};return e.jsx(We,{...r,ref:x,disabled:t,onClick:N(n.onClick,u),onPointerDown:d=>{var f;(f=n.onPointerDown)==null||f.call(n,d),m.current=!0},onPointerUp:N(n.onPointerUp,d=>{var f;m.current||(f=d.currentTarget)==null||f.click()}),onKeyDown:N(n.onKeyDown,d=>{const f=c.searchRef.current!=="";t||f&&d.key===" "||we.includes(d.key)&&(d.currentTarget.click(),d.preventDefault())})})});ue.displayName=ie;var We=a.forwardRef((n,s)=>{const{__scopeMenu:t,disabled:o=!1,textValue:r,...i}=n,l=je(ie,t),c=He(t),x=a.useRef(null),m=ee(s,x),[u,d]=a.useState(!1),[f,j]=a.useState("");return a.useEffect(()=>{const w=x.current;w&&j((w.textContent??"").trim())},[i.children]),e.jsx(Q.ItemSlot,{scope:t,disabled:o,textValue:r??f,children:e.jsx(Tt,{asChild:!0,...c,focusable:!o,children:e.jsx(H.div,{role:"menuitem","data-highlighted":u?"":void 0,"aria-disabled":o||void 0,"data-disabled":o?"":void 0,...i,ref:m,onPointerMove:N(n.onPointerMove,J(w=>{o?l.onItemLeave(w):(l.onItemEnter(w),w.defaultPrevented||w.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:N(n.onPointerLeave,J(w=>l.onItemLeave(w))),onFocus:N(n.onFocus,()=>d(!0)),onBlur:N(n.onBlur,()=>d(!1))})})})}),oo="MenuCheckboxItem",Ze=a.forwardRef((n,s)=>{const{checked:t=!1,onCheckedChange:o,...r}=n;return e.jsx(tn,{scope:n.__scopeMenu,checked:t,children:e.jsx(ue,{role:"menuitemcheckbox","aria-checked":ce(t)?"mixed":t,...r,ref:s,"data-state":Se(t),onSelect:N(r.onSelect,()=>o==null?void 0:o(ce(t)?!0:!t),{checkForDefaultPrevented:!1})})})});Ze.displayName=oo;var Qe="MenuRadioGroup",[so,ro]=B(Qe,{value:void 0,onValueChange:()=>{}}),Je=a.forwardRef((n,s)=>{const{value:t,onValueChange:o,...r}=n,i=Fe(o);return e.jsx(so,{scope:n.__scopeMenu,value:t,onValueChange:i,children:e.jsx(Ce,{...r,ref:s})})});Je.displayName=Qe;var en="MenuRadioItem",nn=a.forwardRef((n,s)=>{const{value:t,...o}=n,r=ro(en,n.__scopeMenu),i=t===r.value;return e.jsx(tn,{scope:n.__scopeMenu,checked:i,children:e.jsx(ue,{role:"menuitemradio","aria-checked":i,...o,ref:s,"data-state":Se(i),onSelect:N(o.onSelect,()=>{var l;return(l=r.onValueChange)==null?void 0:l.call(r,t)},{checkForDefaultPrevented:!1})})})});nn.displayName=en;var be="MenuItemIndicator",[tn,ao]=B(be,{checked:!1}),on=a.forwardRef((n,s)=>{const{__scopeMenu:t,forceMount:o,...r}=n,i=ao(be,t);return e.jsx(le,{present:o||ce(i.checked)||i.checked===!0,children:e.jsx(H.span,{...r,ref:s,"data-state":Se(i.checked)})})});on.displayName=be;var io="MenuSeparator",sn=a.forwardRef((n,s)=>{const{__scopeMenu:t,...o}=n;return e.jsx(H.div,{role:"separator","aria-orientation":"horizontal",...o,ref:s})});sn.displayName=io;var co="MenuArrow",rn=a.forwardRef((n,s)=>{const{__scopeMenu:t,...o}=n,r=de(t);return e.jsx(Qn,{...r,...o,ref:s})});rn.displayName=co;var lo="MenuSub",[ms,an]=B(lo),W="MenuSubTrigger",cn=a.forwardRef((n,s)=>{const t=U(W,n.__scopeMenu),o=te(W,n.__scopeMenu),r=an(W,n.__scopeMenu),i=je(W,n.__scopeMenu),l=a.useRef(null),{pointerGraceTimerRef:c,onPointerGraceIntentChange:x}=i,m={__scopeMenu:n.__scopeMenu},u=a.useCallback(()=>{l.current&&window.clearTimeout(l.current),l.current=null},[]);return a.useEffect(()=>u,[u]),a.useEffect(()=>{const d=c.current;return()=>{window.clearTimeout(d),x(null)}},[c,x]),e.jsx(ve,{asChild:!0,...m,children:e.jsx(We,{id:r.triggerId,"aria-haspopup":"menu","aria-expanded":t.open,"aria-controls":r.contentId,"data-state":un(t.open),...n,ref:Ge(s,r.onTriggerChange),onClick:d=>{var f;(f=n.onClick)==null||f.call(n,d),!(n.disabled||d.defaultPrevented)&&(d.currentTarget.focus(),t.open||t.onOpenChange(!0))},onPointerMove:N(n.onPointerMove,J(d=>{i.onItemEnter(d),!d.defaultPrevented&&!n.disabled&&!t.open&&!l.current&&(i.onPointerGraceIntentChange(null),l.current=window.setTimeout(()=>{t.onOpenChange(!0),u()},100))})),onPointerLeave:N(n.onPointerLeave,J(d=>{var j,w;u();const f=(j=t.content)==null?void 0:j.getBoundingClientRect();if(f){const S=(w=t.content)==null?void 0:w.dataset.side,_=S==="right",C=_?-5:5,M=f[_?"left":"right"],b=f[_?"right":"left"];i.onPointerGraceIntentChange({area:[{x:d.clientX+C,y:d.clientY},{x:M,y:f.top},{x:b,y:f.top},{x:b,y:f.bottom},{x:M,y:f.bottom}],side:S}),window.clearTimeout(c.current),c.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(d),d.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:N(n.onKeyDown,d=>{var j;const f=i.searchRef.current!=="";n.disabled||f&&d.key===" "||Ht[o.dir].includes(d.key)&&(t.onOpenChange(!0),(j=t.content)==null||j.focus(),d.preventDefault())})})})});cn.displayName=W;var ln="MenuSubContent",dn=a.forwardRef((n,s)=>{const t=ze(I,n.__scopeMenu),{forceMount:o=t.forceMount,...r}=n,i=U(I,n.__scopeMenu),l=te(I,n.__scopeMenu),c=an(ln,n.__scopeMenu),x=a.useRef(null),m=ee(s,x);return e.jsx(Q.Provider,{scope:n.__scopeMenu,children:e.jsx(le,{present:o||i.open,children:e.jsx(Q.Slot,{scope:n.__scopeMenu,children:e.jsx(Me,{id:c.contentId,"aria-labelledby":c.triggerId,...r,ref:m,align:"start",side:l.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:u=>{var d;l.isUsingKeyboardRef.current&&((d=x.current)==null||d.focus()),u.preventDefault()},onCloseAutoFocus:u=>u.preventDefault(),onFocusOutside:N(n.onFocusOutside,u=>{u.target!==c.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:N(n.onEscapeKeyDown,u=>{l.onClose(),u.preventDefault()}),onKeyDown:N(n.onKeyDown,u=>{var j;const d=u.currentTarget.contains(u.target),f=Vt[l.dir].includes(u.key);d&&f&&(i.onOpenChange(!1),(j=c.trigger)==null||j.focus(),u.preventDefault())})})})})})});dn.displayName=ln;function un(n){return n?"open":"closed"}function ce(n){return n==="indeterminate"}function Se(n){return ce(n)?"indeterminate":n?"checked":"unchecked"}function uo(n){const s=document.activeElement;for(const t of n)if(t===s||(t.focus(),document.activeElement!==s))return}function mo(n,s){return n.map((t,o)=>n[(s+o)%n.length])}function fo(n,s,t){const r=s.length>1&&Array.from(s).every(m=>m===s[0])?s[0]:s,i=t?n.indexOf(t):-1;let l=mo(n,Math.max(i,0));r.length===1&&(l=l.filter(m=>m!==t));const x=l.find(m=>m.toLowerCase().startsWith(r.toLowerCase()));return x!==t?x:void 0}function po(n,s){const{x:t,y:o}=n;let r=!1;for(let i=0,l=s.length-1;i<s.length;l=i++){const c=s[i].x,x=s[i].y,m=s[l].x,u=s[l].y;x>o!=u>o&&t<(m-c)*(o-x)/(u-x)+c&&(r=!r)}return r}function xo(n,s){if(!s)return!1;const t={x:n.clientX,y:n.clientY};return po(t,s)}function J(n){return s=>s.pointerType==="mouse"?n(s):void 0}var ho=Ve,go=ve,wo=Xe,vo=qe,No=Ce,jo=Ye,Mo=ue,Co=Ze,bo=Je,So=nn,_o=on,yo=sn,Ro=rn,Do=cn,Eo=dn,_e="DropdownMenu",[Io,fs]=Le(_e,[$e]),y=$e(),[Po,mn]=Io(_e),fn=n=>{const{__scopeDropdownMenu:s,children:t,dir:o,open:r,defaultOpen:i,onOpenChange:l,modal:c=!0}=n,x=y(s),m=a.useRef(null),[u=!1,d]=st({prop:r,defaultProp:i,onChange:l});return e.jsx(Po,{scope:s,triggerId:Pe(),triggerRef:m,contentId:Pe(),open:u,onOpenChange:d,onOpenToggle:a.useCallback(()=>d(f=>!f),[d]),modal:c,children:e.jsx(ho,{...x,open:u,onOpenChange:d,dir:o,modal:c,children:t})})};fn.displayName=_e;var pn="DropdownMenuTrigger",xn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,disabled:o=!1,...r}=n,i=mn(pn,t),l=y(t);return e.jsx(go,{asChild:!0,...l,children:e.jsx(H.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":o?"":void 0,disabled:o,...r,ref:Ge(s,i.triggerRef),onPointerDown:N(n.onPointerDown,c=>{!o&&c.button===0&&c.ctrlKey===!1&&(i.onOpenToggle(),i.open||c.preventDefault())}),onKeyDown:N(n.onKeyDown,c=>{o||(["Enter"," "].includes(c.key)&&i.onOpenToggle(),c.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(c.key)&&c.preventDefault())})})})});xn.displayName=pn;var To="DropdownMenuPortal",hn=n=>{const{__scopeDropdownMenu:s,...t}=n,o=y(s);return e.jsx(wo,{...o,...t})};hn.displayName=To;var gn="DropdownMenuContent",wn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=mn(gn,t),i=y(t),l=a.useRef(!1);return e.jsx(vo,{id:r.contentId,"aria-labelledby":r.triggerId,...i,...o,ref:s,onCloseAutoFocus:N(n.onCloseAutoFocus,c=>{var x;l.current||(x=r.triggerRef.current)==null||x.focus(),l.current=!1,c.preventDefault()}),onInteractOutside:N(n.onInteractOutside,c=>{const x=c.detail.originalEvent,m=x.button===0&&x.ctrlKey===!0,u=x.button===2||m;(!r.modal||u)&&(l.current=!0)}),style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});wn.displayName=gn;var ko="DropdownMenuGroup",Ao=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(No,{...r,...o,ref:s})});Ao.displayName=ko;var Lo="DropdownMenuLabel",vn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(jo,{...r,...o,ref:s})});vn.displayName=Lo;var Oo="DropdownMenuItem",Nn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(Mo,{...r,...o,ref:s})});Nn.displayName=Oo;var Fo="DropdownMenuCheckboxItem",jn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(Co,{...r,...o,ref:s})});jn.displayName=Fo;var Go="DropdownMenuRadioGroup",Bo=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(bo,{...r,...o,ref:s})});Bo.displayName=Go;var Uo="DropdownMenuRadioItem",Mn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(So,{...r,...o,ref:s})});Mn.displayName=Uo;var Ko="DropdownMenuItemIndicator",Cn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(_o,{...r,...o,ref:s})});Cn.displayName=Ko;var $o="DropdownMenuSeparator",bn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(yo,{...r,...o,ref:s})});bn.displayName=$o;var Ho="DropdownMenuArrow",Vo=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(Ro,{...r,...o,ref:s})});Vo.displayName=Ho;var zo="DropdownMenuSubTrigger",Sn=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(Do,{...r,...o,ref:s})});Sn.displayName=zo;var Xo="DropdownMenuSubContent",_n=a.forwardRef((n,s)=>{const{__scopeDropdownMenu:t,...o}=n,r=y(t);return e.jsx(Eo,{...r,...o,ref:s,style:{...n.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});_n.displayName=Xo;var qo=fn,Yo=xn,Wo=hn,yn=wn,Rn=vn,Dn=Nn,En=jn,In=Mn,Pn=Cn,Tn=bn,kn=Sn,An=_n;const Ln=qo,On=Yo,Zo=a.forwardRef(({className:n,inset:s,children:t,...o},r)=>e.jsxs(kn,{ref:r,className:L("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none focus:bg-accent data-[state=open]:bg-accent",s&&"pl-8",n),...o,children:[t,e.jsx(v,{name:"ChevronRight",className:"ml-auto h-4 w-4"})]}));Zo.displayName=kn.displayName;const Qo=a.forwardRef(({className:n,...s},t)=>e.jsx(An,{ref:t,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-1 data-[side=left]:slide-in-from-right-1 data-[side=right]:slide-in-from-left-1 data-[side=top]:slide-in-from-bottom-1",n),...s}));Qo.displayName=An.displayName;const ye=a.forwardRef(({className:n,sideOffset:s=4,...t},o)=>e.jsx(Wo,{children:e.jsx(yn,{ref:o,sideOffset:s,className:L("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md animate-in data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n),...t})}));ye.displayName=yn.displayName;const R=a.forwardRef(({className:n,inset:s,...t},o)=>e.jsx(Dn,{ref:o,className:L("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",s&&"pl-8",n),...t}));R.displayName=Dn.displayName;const Jo=a.forwardRef(({className:n,children:s,checked:t,...o},r)=>e.jsxs(En,{ref:r,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),checked:t,...o,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Pn,{children:e.jsx(v,{name:"Check",className:"h-4 w-4"})})}),s]}));Jo.displayName=En.displayName;const es=a.forwardRef(({className:n,children:s,...t},o)=>e.jsxs(In,{ref:o,className:L("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",n),...t,children:[e.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:e.jsx(Pn,{children:e.jsx(v,{name:"Circle",className:"h-2 w-2 fill-current"})})}),s]}));es.displayName=In.displayName;const Z=a.forwardRef(({className:n,inset:s,...t},o)=>e.jsx(Rn,{ref:o,className:L("px-2 py-1.5 pl-2 text-sm font-semibold",s&&"pl-8",n),...t}));Z.displayName=Rn.displayName;const ae=a.forwardRef(({className:n,...s},t)=>e.jsx(Tn,{ref:t,className:L("-mx-1 my-1 h-px bg-muted",n),...s}));ae.displayName=Tn.displayName;const ns=({id:n,excludedColumns:s,mode:t,params:o},r)=>{const{query:i}=rt(),l=m=>{if(t){const u=lt(m,t,s);return{rows:m,columns:u}}else return m};return i(["useGetTransactionsQuery"],async()=>{const m={};m.params={flow_id:n},o&&(m.params={...m.params,...o});const u=await it.get(`${ct("TRANSACTIONS")}`,m);return l(u.data)},{placeholderData:at,...r})};function ts({open:n,setOpen:s}){const t=P(u=>u.currentFlowId),[o,r]=a.useState([]),[i,l]=a.useState([]),{data:c,isLoading:x,refetch:m}=ns({id:t,mode:"union"});return a.useEffect(()=>{if(c){const{columns:u,rows:d}=c;r(u.map(f=>({...f,editable:!0}))),l(d)}n&&m()},[c,n,x]),e.jsxs(G,{open:n,setOpen:s,size:"large",children:[e.jsx(G.Header,{description:"Inspect component executions.",children:e.jsxs("div",{className:"flex w-full justify-between",children:[e.jsxs("div",{className:"flex h-fit w-32 items-center",children:[e.jsx("span",{className:"pr-2",children:"Logs"}),e.jsx(v,{name:"ScrollText",className:"mr-2 h-4 w-4"})]}),e.jsx("div",{className:"flex h-fit w-32 items-center"})]})}),e.jsx(G.Content,{children:e.jsx(dt,{readOnlyEdit:!0,className:"h-max-full h-full w-full",pagination:i.length!==0,columnDefs:o,autoSizeStrategy:{type:"fitGridWidth"},rowData:i,headerHeight:i.length===0?0:void 0},"Executions")})]})}function os({open:n,setOpen:s}){const t=P(M=>M.saveFlow),o=P(M=>M.currentFlow),r=P(M=>M.flows);a.useEffect(()=>{l(o.name),x(o.description)},[o==null?void 0:o.name,o==null?void 0:o.description,n]);const[i,l]=a.useState(o.name),[c,x]=a.useState(o.description),[m,u]=a.useState(o.endpoint_name??""),[d,f]=a.useState(!1),[j,w]=a.useState(!0);function S(){var M;f(!0),o.name=i,o.description=c,o.endpoint_name=m&&m.length>0?m:null,(M=t(o))==null||M.then(()=>{s(!1),f(!1)}).catch(b=>{var k;F.getState().setErrorData({title:"Error while saving changes",list:[((k=b==null?void 0:b.response)==null?void 0:k.data.detail)??""]}),console.error(b),f(!1)})}const[_,C]=a.useState([]);return a.useEffect(()=>{const M=[];r.forEach(b=>{(b.is_component??!1)===!1&&M.push(b.name)}),C(M.filter(b=>b!==o.name))},[r]),a.useEffect(()=>{!_.includes(i)&&(o==null?void 0:o.name)!==i||(o==null?void 0:o.description)!==c||((o==null?void 0:o.endpoint_name)??"")!==m&&ut(m??"",50)?w(!1):w(!0)},[_,o,c,m,i]),e.jsxs(G,{open:n,setOpen:s,size:"smaller-h-full",onSubmit:S,children:[e.jsxs(G.Header,{description:mt,children:[e.jsx("span",{className:"pr-2",children:"Settings"}),e.jsx(v,{name:"Settings2",className:"mr-2 h-4 w-4"})]}),e.jsx(G.Content,{children:e.jsx(At,{invalidNameList:_,name:i,description:c,endpointName:m,setName:l,setDescription:x,setEndpointName:u})}),e.jsx(G.Footer,{submit:{label:"Save",dataTestId:"save-flow-settings",disabled:j,loading:d}})]})}const ss=({})=>{var g,D;const n=Ot(p=>p.shortcuts),s=P(p=>p.addFlow),t=P(p=>p.currentFlow),o=F(p=>p.setErrorData),r=F(p=>p.setSuccessData),i=q(p=>p.setLockChat),l=q(p=>p.setIsBuilding),c=q(p=>p.revertBuiltStatusFromBuilding),x=P(p=>p.undo),m=P(p=>p.redo),u=P(p=>p.saveLoading),[d,f]=a.useState(!1),[j,w]=a.useState(!1),S=P(p=>p.uploadFlow),_=Be(),C=q(p=>p.isBuilding),M=ft(p=>p.getTypes);function b(){try{s(!0).then(p=>{_("/flow/"+p)})}catch(p){o(p)}}function k(){M(!0).then(()=>{r({title:"Components reloaded successfully"})})}function V(){return C?"Building...":u?"Saving...":"Saved"}return t?e.jsxs("div",{className:"round-button-div",children:[e.jsxs("div",{className:"header-menu-bar",children:[e.jsxs(Ln,{children:[e.jsx(On,{asChild:!0,children:e.jsx(Y,{asChild:!0,variant:"primary",size:"sm","data-testid":"flow-configuration-button",children:e.jsxs("div",{className:"header-menu-bar-display",children:[e.jsx("div",{className:"header-menu-flow-name","data-testid":"flow_name",children:t.name}),e.jsx(v,{name:"ChevronDown",className:"h-4 w-4"})]})})}),e.jsxs(ye,{className:"w-44",children:[e.jsx(Z,{children:"Options"}),e.jsxs(R,{onClick:()=>{b()},className:"cursor-pointer",children:[e.jsx(v,{name:"Plus",className:"header-menu-options"}),"New"]}),e.jsxs(R,{onClick:()=>{f(!0)},className:"cursor-pointer",children:[e.jsx(v,{name:"Settings2",className:"header-menu-options"}),"Settings"]}),e.jsxs(R,{onClick:()=>{w(!0)},className:"cursor-pointer",children:[e.jsx(v,{name:"ScrollText",className:"header-menu-options"}),"Logs"]}),e.jsxs(R,{className:"cursor-pointer",onClick:()=>{S({newProject:!1,isComponent:!1}).catch(p=>{o({title:pt,list:[p]})})},children:[e.jsx(v,{name:"FileUp",className:"header-menu-options"}),"Import"]}),e.jsx(Lt,{children:e.jsxs("div",{className:"header-menubar-item",children:[e.jsx(v,{name:"FileDown",className:"header-menu-options"}),"Export"]})}),e.jsx(R,{onClick:()=>{x()},className:"cursor-pointer",children:e.jsx(ke,{value:"Undo",icon:"Undo",dataTestId:"",shortcut:(g=n.find(p=>p.name.toLowerCase()==="undo"))==null?void 0:g.shortcut})}),e.jsx(R,{onClick:()=>{m()},className:"cursor-pointer",children:e.jsx(ke,{value:"Redo",icon:"Redo",dataTestId:"",shortcut:(D=n.find(p=>p.name.toLowerCase()==="redo"))==null?void 0:D.shortcut})}),e.jsxs(R,{onClick:()=>{k()},className:"cursor-pointer",children:[e.jsx(v,{name:"RefreshCcw",className:"header-menu-options"}),"Refresh All"]})]})]}),e.jsx(os,{open:d,setOpen:f}),e.jsx(ts,{open:j,setOpen:w})]}),(t.updated_at||u)&&e.jsx(xt,{content:ht+new Date(t.updated_at??"").toLocaleString("en-US",{hour:"numeric",minute:"numeric",second:"numeric"}),side:"bottom",styleClasses:"cursor-default",children:e.jsxs("div",{className:"flex cursor-default items-center gap-2 text-sm text-muted-foreground transition-all",children:[e.jsxs("div",{className:"flex cursor-default items-center gap-1.5 text-sm text-muted-foreground transition-all",children:[e.jsx(v,{name:C||u?"Loader2":"CheckCircle2",className:L("h-4 w-4",C||u?"animate-spin":"animate-wiggle")}),e.jsx("div",{children:V()})]}),e.jsxs("button",{disabled:!C,onClick:p=>{C&&(l(!1),c(),i(!1),window.stop())},className:C?"flex items-center gap-1.5 text-status-red opacity-100 transition-all":"opacity-0",children:[e.jsx(v,{name:"Square",className:"h-4 w-4"}),e.jsx("span",{children:"Stop"})]})]})})]}):e.jsx(e.Fragment,{})},rs=ss;function ps(){const n=F(g=>g.notificationCenter),s=gt(),{userData:t}=a.useContext(wt),o=he(g=>g.isAdmin),r=he(g=>g.autoLogin),{mutate:i}=vt(),l=he(g=>g.logout),c=Be(),x=P(g=>g.removeFlow),m=Nt(g=>g.hasStore),{id:u}=jt(),d=q(g=>g.nodes),f=ge(g=>g.dark),j=ge(g=>g.setDark),w=ge(g=>g.stars),S=Mt(g=>g.routeHistory),_=`${Ct}files/profile_pictures/${(t==null?void 0:t.profile_image)??"Space/046-rocket.svg"}`??Ut;async function C(){d.length===0&&await x(u)}const M=()=>{const g=S.reverse().findIndex(p=>p.includes("/flow/")&&p!==s.pathname),D=S[g];D&&!s.pathname.includes("/flow")?c(D):c("/all")},b=()=>S.slice(-99).some(D=>D.includes("/flow/")),k=bt.some(g=>s.pathname.includes(g))&&b(),V=()=>{i(void 0,{onSuccess:()=>{l()},onError:g=>{console.error(g)}})};return e.jsxs("div",{className:"header-arrangement",children:[e.jsxs("div",{className:"header-start-display lg:w-[407px]",children:[e.jsx(re,{to:"/all",className:"cursor-pointer",onClick:C,children:e.jsx("span",{className:"ml-4 text-2xl",children:"⛓️"})}),k&&e.jsx(Y,{unstyled:!0,onClick:()=>{C(),M()},children:e.jsx(v,{name:"ChevronLeft",className:"w-4"})}),e.jsx(rs,{})]}),e.jsxs("div",{className:"round-button-div",children:[e.jsx(re,{to:"/",children:e.jsxs(Y,{className:"gap-2",variant:s.pathname==="/all"||s.pathname==="/components"?"primary":"secondary",size:"sm",onClick:C,children:[e.jsx(v,{name:"Home",className:"h-4 w-4"}),e.jsx("div",{className:"hidden flex-1 md:block",children:St})]})}),m&&e.jsx(re,{to:"/store",children:e.jsxs(Y,{className:"gap-2",variant:s.pathname==="/store"?"primary":"secondary",size:"sm",onClick:C,"data-testid":"button-store",children:[e.jsx(v,{name:"Store",className:"h-4 w-4"}),e.jsx("div",{className:"flex-1",children:"Store"})]})})]}),e.jsx("div",{className:"header-end-division",children:e.jsxs("div",{className:"header-end-display",children:[e.jsxs("a",{href:"https://github.com/langflow-ai/langflow",target:"_blank",rel:"noreferrer",className:"header-github-link gap-2",children:[e.jsx(_t,{className:"h-5 w-5"}),e.jsx("div",{className:"hidden lg:block",children:"Star"}),e.jsx("div",{className:"header-github-display",children:w??0})]}),e.jsx("a",{href:"https://twitter.com/langflow_ai",target:"_blank",rel:"noreferrer",className:"text-muted-foreground",children:e.jsx(Ft,{className:"side-bar-button-size"})}),e.jsx("a",{href:"https://discord.gg/EqksyE2EX9",target:"_blank",rel:"noreferrer",className:"text-muted-foreground",children:e.jsx(yt,{className:"side-bar-button-size"})}),e.jsx(Te,{orientation:"vertical"}),e.jsx("button",{className:"extra-side-bar-save-disable",onClick:()=>{j(!f)},children:f?e.jsx(v,{name:"SunIcon",className:"side-bar-button-size"}):e.jsx(v,{name:"MoonIcon",className:"side-bar-button-size"})}),e.jsx(Bt,{children:e.jsxs("div",{className:"extra-side-bar-save-disable relative",children:[n&&e.jsx("div",{className:"header-notifications"}),e.jsx(v,{name:"Bell",className:"side-bar-button-size","aria-hidden":"true"})]})}),e.jsxs(e.Fragment,{children:[e.jsx(Te,{orientation:"vertical"}),e.jsxs(Ln,{children:[e.jsx(On,{asChild:!0,children:e.jsx(Y,{unstyled:!0,"data-testid":"user-profile-settings",className:"shrink-0",children:e.jsx("img",{src:_,className:"h-7 w-7 shrink-0 focus-visible:outline-0"})})}),e.jsxs(ye,{className:"mr-1 mt-1 min-w-40",children:[!r&&e.jsxs(e.Fragment,{children:[e.jsx(Z,{children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("img",{src:_,className:"h-5 w-5 focus-visible:outline-0"}),(t==null?void 0:t.username)??"User"]})}),e.jsx(ae,{})]}),e.jsx(Z,{children:"General"}),e.jsxs(R,{className:"cursor-pointer gap-2",onClick:()=>c("/settings"),children:[e.jsx(X,{name:"Settings",className:"w-4"}),"Settings"]}),!r&&e.jsx(e.Fragment,{children:o&&e.jsxs(R,{className:"cursor-pointer gap-2",onClick:()=>c("/admin"),children:[e.jsx(X,{name:"Shield",className:"w-4"}),"Admin Page"]})}),e.jsx(ae,{}),e.jsx(Z,{children:"Help"}),e.jsxs(R,{className:"cursor-pointer gap-2",onClick:()=>window.open("https://docs.langflow.org/","_blank"),children:[e.jsx(X,{name:"FileText",className:"w-4"}),"Docs"]}),e.jsxs(R,{className:"cursor-pointer gap-2",onClick:()=>window.open("https://github.com/langflow-ai/langflow/discussions","_blank"),children:[e.jsx(X,{name:"MessagesSquare",className:"w-4"}),"Discussions"]}),!r&&e.jsxs(e.Fragment,{children:[e.jsx(ae,{}),e.jsxs(R,{className:"cursor-pointer gap-2",onClick:V,children:[e.jsx(X,{name:"LogOut",className:"w-4"}),"Log Out"]})]})]})]})]})]})})]})}export{Ln as D,ps as H,On as a,ye as b,R as c};
