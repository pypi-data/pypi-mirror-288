import{bl as M,r as c,br as O,bm as q,j as r,bo as w,bp as E,bq as A,du as H,c as v,I as P}from"./index-DYkSp9FA.js";import{b as K}from"./index-D0UpKyR9.js";var y="Checkbox",[L,Q]=M(y),[z,T]=L(y),N=c.forwardRef((e,s)=>{const{__scopeCheckbox:t,name:d,checked:b,defaultChecked:a,required:p,disabled:l,value:u="on",onCheckedChange:m,...g}=e,[n,x]=c.useState(null),_=O(s,o=>x(o)),k=c.useRef(!1),j=n?!!n.closest("form"):!0,[f=!1,C]=q({prop:b,defaultProp:a,onChange:m}),B=c.useRef(f);return c.useEffect(()=>{const o=n==null?void 0:n.form;if(o){const h=()=>C(B.current);return o.addEventListener("reset",h),()=>o.removeEventListener("reset",h)}},[n,C]),r.jsxs(z,{scope:t,state:f,disabled:l,children:[r.jsx(w.button,{type:"button",role:"checkbox","aria-checked":i(f)?"mixed":f,"aria-required":p,"data-state":S(f),"data-disabled":l?"":void 0,disabled:l,value:u,...g,ref:_,onKeyDown:E(e.onKeyDown,o=>{o.key==="Enter"&&o.preventDefault()}),onClick:E(e.onClick,o=>{C(h=>i(h)?!0:!h),j&&(k.current=o.isPropagationStopped(),k.current||o.stopPropagation())})}),j&&r.jsx(X,{control:n,bubbles:!k.current,name:d,value:u,checked:f,required:p,disabled:l,style:{transform:"translateX(-100%)"}})]})});N.displayName=y;var R="CheckboxIndicator",I=c.forwardRef((e,s)=>{const{__scopeCheckbox:t,forceMount:d,...b}=e,a=T(R,t);return r.jsx(A,{present:d||i(a.state)||a.state===!0,children:r.jsx(w.span,{"data-state":S(a.state),"data-disabled":a.disabled?"":void 0,...b,ref:s,style:{pointerEvents:"none",...e.style}})})});I.displayName=R;var X=e=>{const{control:s,checked:t,bubbles:d=!0,...b}=e,a=c.useRef(null),p=K(t),l=H(s);return c.useEffect(()=>{const u=a.current,m=window.HTMLInputElement.prototype,n=Object.getOwnPropertyDescriptor(m,"checked").set;if(p!==t&&n){const x=new Event("click",{bubbles:d});u.indeterminate=i(t),n.call(u,i(t)?!1:t),u.dispatchEvent(x)}},[p,t,d]),r.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i(t)?!1:t,...b,tabIndex:-1,ref:a,style:{...e.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function i(e){return e==="indeterminate"}function S(e){return i(e)?"indeterminate":e?"checked":"unchecked"}var D=N,F=I;const $=c.forwardRef(({className:e,...s},t)=>r.jsx(D,{ref:t,className:v("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",e),...s,children:r.jsx(F,{className:v("flex items-center justify-center text-current"),children:r.jsx(P,{name:"Check",className:"h-4 w-4 stroke-2"})})}));$.displayName=D.displayName;const U=({className:e="",checked:s})=>r.jsx("div",{className:v(e,"peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",s?"bg-primary text-primary-foreground":""),children:s&&r.jsx("div",{className:"flex items-center justify-center text-current",children:r.jsx(P,{name:"Check",className:"h-4 w-4"})})});export{$ as C,U as a};
