<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>search_genes &mdash; MacSyFinder 2.0 documentation</title>
      <link rel="stylesheet" href="../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/graphviz.css" type="text/css" />
      <link rel="stylesheet" href="../../_static/_css/custom.css" type="text/css" />
  <!--[if lt IE 9]>
    <script src="../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
        <script src="../../_static/jquery.js"></script>
        <script src="../../_static/underscore.js"></script>
        <script src="../../_static/_sphinx_javascript_frameworks_compat.js"></script>
        <script src="../../_static/doctools.js"></script>
        <script src="../../_static/sphinx_highlight.js"></script>
    <script src="../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../genindex.html" />
    <link rel="search" title="Search" href="../../search.html" />
    <link rel="next" title="solution" href="solution.html" />
    <link rel="prev" title="report" href="report.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
            <a href="../../index.html" class="icon icon-home"> MacSyFinder
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../user_guide/index.html">User Guide</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../../modeler_guide/index.html">Modeller Guide</a></li>
</ul>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="../index.html">Developer Guide</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="../installation.html">Installation</a></li>
<li class="toctree-l2"><a class="reference internal" href="../overview.html">MacSyFinder implementation overview</a></li>
<li class="toctree-l2 current"><a class="reference internal" href="index.html">MacSyFinder API documentation</a><ul class="current">
<li class="toctree-l3"><a class="reference internal" href="config.html">configuration</a></li>
<li class="toctree-l3"><a class="reference internal" href="model_conf_parser.html">model_conf_parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="registries.html">registries</a></li>
<li class="toctree-l3"><a class="reference internal" href="definition_parser.html">definition_parser</a></li>
<li class="toctree-l3"><a class="reference internal" href="model.html">model</a></li>
<li class="toctree-l3"><a class="reference internal" href="gene.html">gene</a></li>
<li class="toctree-l3"><a class="reference internal" href="profile.html">profile</a></li>
<li class="toctree-l3"><a class="reference internal" href="hit.html">hit</a></li>
<li class="toctree-l3"><a class="reference internal" href="cluster.html">cluster</a></li>
<li class="toctree-l3"><a class="reference internal" href="system.html">system</a></li>
<li class="toctree-l3"><a class="reference internal" href="report.html">report</a></li>
<li class="toctree-l3 current"><a class="current reference internal" href="#">search_genes</a><ul>
<li class="toctree-l4"><a class="reference internal" href="#search-genes-api-reference">search_genes API reference</a></li>
<li class="toctree-l4"><a class="reference internal" href="#id2">search_genes</a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="solution.html">solution</a></li>
<li class="toctree-l3"><a class="reference internal" href="serialization.html">serialization</a></li>
<li class="toctree-l3"><a class="reference internal" href="database.html">database</a></li>
<li class="toctree-l3"><a class="reference internal" href="error.html">errors</a></li>
<li class="toctree-l3"><a class="reference internal" href="utils.html">utils</a></li>
<li class="toctree-l3"><a class="reference internal" href="package.html">package</a></li>
<li class="toctree-l3"><a class="reference internal" href="scripts.html">scripts</a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../index.html">MacSyFinder</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../index.html" class="icon icon-home"></a></li>
          <li class="breadcrumb-item"><a href="../index.html">Developer Guide</a></li>
          <li class="breadcrumb-item"><a href="index.html">MacSyFinder API documentation</a></li>
      <li class="breadcrumb-item active">search_genes</li>
      <li class="wy-breadcrumbs-aside">
            <a href="../../_sources/developer_guide/api/search_genes.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <dl class="simple">
<dt>… MacSyFinder - Detection of macromolecular systems in protein datasets</dt><dd><p>using systems modelling and similarity search.
Authors: Sophie Abby, Bertrand Néron
Copyright © 2014-2023  Institut Pasteur (Paris), and CNRS.
See the COPYRIGHT file for details
MacsyFinder is distributed under the terms of the GNU General Public License (GPLv3).
See the COPYING file for details.</p>
</dd>
</dl>
<section id="search-genes">
<span id="id1"></span><h1>search_genes<a class="headerlink" href="#search-genes" title="Permalink to this heading"></a></h1>
<p>manage the paralelization of code which execute <em>in fine</em> <cite>hmmsearch</cite> to find the genes constituting the models
in the input dataset.</p>
<section id="search-genes-api-reference">
<span id="search-genes-api"></span><h2>search_genes API reference<a class="headerlink" href="#search-genes-api-reference" title="Permalink to this heading"></a></h2>
</section>
<section id="id2">
<h2>search_genes<a class="headerlink" href="#id2" title="Permalink to this heading"></a></h2>
<span class="target" id="module-macsypy.search_genes"></span><p>Manage the hmm step (hmmsearch or recover results from previous run) in parallele</p>
<dl class="py function">
<dt class="sig sig-object py" id="macsypy.search_genes.search_genes">
<span class="sig-prename descclassname"><span class="pre">macsypy.search_genes.</span></span><span class="sig-name descname"><span class="pre">search_genes</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">genes</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="gene.html#macsypy.gene.ModelGene" title="macsypy.gene.ModelGene"><span class="pre">macsypy.gene.ModelGene</span></a><span class="p"><span class="pre">]</span></span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="config.html#macsypy.config.Config" title="macsypy.config.Config"><span class="pre">Config</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">list</span><span class="p"><span class="pre">[</span></span><a class="reference internal" href="report.html#macsypy.report.HMMReport" title="macsypy.report.HMMReport"><span class="pre">macsypy.report.HMMReport</span></a><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/macsypy/search_genes.html#search_genes"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#macsypy.search_genes.search_genes" title="Permalink to this definition"></a></dt>
<dd><p>For each gene of the list, use the corresponding profile to perform an Hmmer search, and parse the output
to generate a HMMReport that is saved in a file after CoreHit filtering.
These tasks are performed in parallel using threads.
The number of workers can be limited by worker_nb directive in the config object or
in the command-line with the “-w” option.</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genes</strong> – the genes to search in the input sequence dataset</p></li>
<li><p><strong>cfg</strong> – the configuration object</p></li>
</ul>
</dd>
</dl>
</dd></dl>

<dl class="py function">
<dt class="sig sig-object py" id="macsypy.search_genes.worker_cpu">
<span class="sig-prename descclassname"><span class="pre">macsypy.search_genes.</span></span><span class="sig-name descname"><span class="pre">worker_cpu</span></span><span class="sig-paren">(</span><em class="sig-param"><span class="n"><span class="pre">genes_nb</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><span class="pre">int</span></span></em>, <em class="sig-param"><span class="n"><span class="pre">cfg</span></span><span class="p"><span class="pre">:</span></span><span class="w"> </span><span class="n"><a class="reference internal" href="config.html#macsypy.config.Config" title="macsypy.config.Config"><span class="pre">Config</span></a></span></em><span class="sig-paren">)</span> <span class="sig-return"><span class="sig-return-icon">&#x2192;</span> <span class="sig-return-typehint"><span class="pre">tuple</span><span class="p"><span class="pre">[</span></span><span class="pre">int</span><span class="p"><span class="pre">,</span></span><span class="w"> </span><span class="pre">int</span><span class="p"><span class="pre">]</span></span></span></span><a class="reference internal" href="../../_modules/macsypy/search_genes.html#worker_cpu"><span class="viewcode-link"><span class="pre">[source]</span></span></a><a class="headerlink" href="#macsypy.search_genes.worker_cpu" title="Permalink to this definition"></a></dt>
<dd><p>Compute the optimum number of worker and cpu per worker
The number of worker is set by the user (1 by default 0 means all worker available)</p>
<p>we use one worker per gene
if number of workers is greater than number of genes then several cpu can be use by
hmsearch to speed up the search step</p>
<dl class="field-list simple">
<dt class="field-odd">Parameters</dt>
<dd class="field-odd"><ul class="simple">
<li><p><strong>genes_nb</strong> – the number of genes to search</p></li>
<li><p><strong>cfg</strong> – The macsyfinder configuration</p></li>
</ul>
</dd>
<dt class="field-even">Returns</dt>
<dd class="field-even"><p>the number of worker and cpu_per_worker to use</p>
</dd>
<dt class="field-odd">Return type</dt>
<dd class="field-odd"><p>tuple (int worker_nb, int cpu_per_worker)</p>
</dd>
</dl>
</dd></dl>

</section>
</section>


           </div>
          </div>
          <footer><div class="rst-footer-buttons" role="navigation" aria-label="Footer">
        <a href="report.html" class="btn btn-neutral float-left" title="report" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
        <a href="solution.html" class="btn btn-neutral float-right" title="solution" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2014-2024, &#39;Institut Pasteur (Paris), CNRS&#39;.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
  

<div class="licensing">
  <p>
    This documentation is licensed under <a href="http://creativecommons.org/licenses/by-nc-sa/4.0/">Creative Commons Attribution-NonCommercial-ShareAlike 4.0 International License
      <img src="https://i.creativecommons.org/l/by-nc-sa/4.0/88x31.png">.
    </a>
  </p>
</div>


</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

<a href="https://github.com/gem-pasteur/macsyfinder">
    <img style="position: absolute; top: 0; right: 0; border: 0;"
         src="https://camo.githubusercontent.com/38ef81f8aca64bb9a64448d0d70f1308ef5341ab/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f6461726b626c75655f3132313632312e706e67"
         alt="Fork me on GitHub"
         data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_darkblue_121621.png">
</a>



</body>
</html>