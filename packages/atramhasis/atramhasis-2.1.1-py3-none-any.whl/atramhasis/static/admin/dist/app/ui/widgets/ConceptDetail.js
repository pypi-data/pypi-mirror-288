//>>built
require({cache:{"url:app/ui/widgets/templates/ConceptDetail.html":'\x3cdiv data-dojo-attach-point\x3d"conceptDetailNode"\x3e\n  \x3cdiv class\x3d"large-12 columns" style\x3d"margin-top: 20px; padding-bottom: 20px;"\x3e\n    \x3cdiv class\x3d"large-7 columns"\x3e\n      \x3ch1 data-dojo-attach-point\x3d"conceptTitleViewNode"\x3e\x3c/h1\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"idViewNode"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"typeViewNode"\x3e\x3c/span\x3e\n      \x3cspan class\x3d"concept-title-info" data-dojo-attach-point\x3d"uriViewNode"\x3e\x3c/span\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-5 columns"\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny right" target\x3d"_blank" data-dojo-attach-point\x3d"viewConceptNode"\x3eVIEW\x3c/a\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny right" style\x3d"margin-right: 10px;" data-dojo-attach-event\x3d"onClick: _deleteConcept"\x3eDELETE\x3c/a\x3e\n      \x3ca href\x3d"#" class\x3d"button tiny right" style\x3d"margin-right: 10px;" data-dojo-attach-event\x3d"onClick: _openEditDialog"\x3eEDIT\x3c/a\x3e\n      \x3cbutton href\x3d"#" class\x3d"button tiny right" style\x3d"margin-right: 10px;" data-dojo-attach-event\x3d"onClick: _openMergeDialog"\n         data-dojo-attach-point\x3d"mergeButton"\x3eMERGE\x3c/button\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns label-relation-block"\x3e\n    \x3cdiv class\x3d"large-6 columns"\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eLabels\x3c/h4\x3e\n      \x3cdl class\x3d"dllist"\x3e\n        \x3cdt\x3ePreferred labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"preferredLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eAlternate labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"alternateLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eHidden labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"hiddenLabelsNode"\x3e\x3c/dd\x3e\n        \x3cdt\x3eSort labels\x3c/dt\x3e\x3cdd data-dojo-attach-point\x3d"sortLabelsNode"\x3e\x3c/dd\x3e\n      \x3c/dl\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-6 columns"\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eRelations\x3c/h4\x3e\n      \x3cdl class\x3d"dllist" data-dojo-attach-point\x3d"relationsListNode"\x3e\n      \x3c/dl\x3e\n      \x3ch4 class\x3d"no-top-padding"\x3eMatches\x3c/h4\x3e\n      \x3cdl class\x3d"dllist" data-dojo-attach-point\x3d"matchesListNode"\x3e\n      \x3c/dl\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n  \x3chr class\x3d"concept-hr"\x3e\n  \x3cdiv class\x3d"large-12 columns"\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cul class\x3d"scopeNote" data-dojo-attach-point\x3d"scopeNoteNode"\x3e\n        \x3ch3\x3enotes\x3c/h3\x3e\n      \x3c/ul\x3e\n    \x3c/div\x3e\n    \x3cdiv class\x3d"large-12 columns"\x3e\n      \x3cul class\x3d"scopeNote" data-dojo-attach-point\x3d"sourcesNode"\x3e\n        \x3ch3\x3esources\x3c/h3\x3e\n      \x3c/ul\x3e\n    \x3c/div\x3e\n  \x3c/div\x3e\n\x3c/div\x3e'}});
define("app/ui/widgets/ConceptDetail","dojo/_base/declare dojo/_base/array dojo/_base/lang dojo/promise/all dojo/dom-construct dojo/dom-class dojo/dom-style dojo/dom-attr dojo/json dojo/query dojo/string dojo/on dojo/dom dijit/_WidgetBase dijit/_TemplatedMixin dojo/text!./templates/ConceptDetail.html ../dialogs/ConceptEditDialog dojo/NodeList-traverse".split(" "),function(z,e,f,A,d,B,H,x,I,C,D,J,y,E,F,G,K){return z([E,F],{templateString:G,baseClass:"concept-detail",concept:null,conceptId:null,conceptLabel:null,
scheme:null,languageController:null,listController:null,conceptSchemeController:null,_editDialog:null,postCreate:function(){this.inherited(arguments);x.set(this.mergeButton,"disabled",!0)},startup:function(){this.inherited(arguments);this._setData(this.concept)},_openEditDialog:function(a){a?a.preventDefault():null;this.emit("concept.edit",{concept:this.concept,schemeId:this.scheme})},_openMergeDialog:function(a){a?a.preventDefault():null;this.emit("concept.merge",{concept:this.concept,schemeId:this.scheme})},
_deleteConcept:function(a){a?a.preventDefault():null;this.emit("concept.delete",{concept:this.concept,schemeId:this.scheme})},_setData:function(a){this.conceptTitleViewNode.innerHTML="\x3cstrong\x3e"+this.scheme+" : "+a.label+"\x3c/strong\x3e";this.idViewNode.innerHTML="ID: "+a.id;this.typeViewNode.innerHTML="TYPE: "+a.type;this.uriViewNode.innerHTML="URI: ";d.create("a",{href:this.concept.uri,innerHTML:this.concept.uri,target:"_blank"},this.uriViewNode);x.set(this.viewConceptNode,"href","/conceptschemes/"+
this.scheme+"/c/"+a.id);if(a.labels&&0<a.label.length){var g="",n="",l="",p="";e.forEach(a.labels,f.hitch(this,function(b){var w=D.escape(b.label);"prefLabel"===b.type&&(g+=w+" ("+b.language+"), ");"altLabel"===b.type&&(n+=w+" ("+b.language+"), ");"hiddenLabel"===b.type&&(l+=w+" ("+b.language+"), ");"sortLabel"===b.type&&(p+=w+" ("+b.language+"), ")}));2<n.length&&(n=n.substring(0,n.length-2));2<g.length&&(g=g.substring(0,g.length-2));2<l.length&&(l=l.substring(0,l.length-2));2<p.length&&(p=p.substring(0,
p.length-2));this.preferredLabelsNode.innerHTML=g;this.alternateLabelsNode.innerHTML=n;this.hiddenLabelsNode.innerHTML=l;this.sortLabelsNode.innerHTML=p}if(a.narrower&&0<a.narrower.length){var c=d.create("dt",{innerHTML:"Narrower"},this.relationsListNode,"first"),k="";e.forEach(a.narrower,f.hitch(this,function(b){k+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+"\x3c/a\x3e ("+b.id+"), "}));2<k.length&&(k=k.substring(0,k.length-2));d.create("dd",{innerHTML:k},c)}if(a.broader&&0<a.broader.length){c=
d.create("dt",{innerHTML:"Broader"},this.relationsListNode,"last");var h="";e.forEach(a.broader,f.hitch(this,function(b){h+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+"\x3c/a\x3e ("+b.id+"), "}));2<h.length&&(h=h.substring(0,h.length-2));d.create("dd",{innerHTML:h},c)}if(a.related&&0<a.related.length){c=d.create("dt",{innerHTML:"Related"},this.relationsListNode,"last");var m="";e.forEach(a.related,f.hitch(this,function(b){m+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+
"\x3c/a\x3e ("+b.id+"), "}));2<m.length&&(m=m.substring(0,m.length-2));d.create("dd",{innerHTML:m},c)}if(a.member_of&&0<a.member_of.length){c=d.create("dt",{innerHTML:"Member of"},this.relationsListNode,"last");var r="";e.forEach(a.member_of,f.hitch(this,function(b){r+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+"\x3c/a\x3e ("+b.id+"), "}));2<r.length&&(r=r.substring(0,r.length-2));d.create("dd",{innerHTML:r},c)}if(a.members&&0<a.members.length){c=d.create("dt",{innerHTML:"Members"},
this.relationsListNode,"last");var t="";e.forEach(a.members,f.hitch(this,function(b){t+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+"\x3c/a\x3e ("+b.id+"), "}));2<t.length&&(t=t.substring(0,t.length-2));d.create("dd",{innerHTML:t},c)}if(a.subordinate_arrays&&0<a.subordinate_arrays.length){c=d.create("dt",{innerHTML:"Subordinate \x3cbr\x3earrays"},this.relationsListNode,"last");var u="";e.forEach(a.subordinate_arrays,f.hitch(this,function(b){u+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+
b.label+"\x3c/a\x3e ("+b.id+"), "}));2<u.length&&(u=u.substring(0,u.length-2));d.create("dd",{innerHTML:u},c)}if(a.superordinates&&0<a.superordinates.length){c=d.create("dt",{innerHTML:"Superordinates"},this.relationsListNode,"last");var q="";e.forEach(a.superordinates,f.hitch(this,function(b){q+='\x3ca href\x3d"'+b.uri+'" target\x3d"_blank" \x3e'+b.label+"\x3c/a\x3e ("+b.id+"), "}));2<q.length&&(q=q.substring(0,q.length-2));d.create("dd",{innerHTML:q},c)}"collection"===a.type&&(c=d.create("dt",{innerHTML:'Inheritance \x3ci class\x3d"fa fa-info-circle"\x3e',
title:"Should member concepts of this collection be seen as narrower concept of a superordinate of the collection"},this.relationsListNode,"last"),q='\x3ci class\x3d"fa '+(!0===a.infer_concept_relations?"fa-check":"fa-times")+'" title\x3d"'+(!0===a.infer_concept_relations?"yes":"no")+'"\x3e',d.create("dd",{innerHTML:q},c));if(a.matches){c=a.matches;var v=!1;c.broad&&0<c.broad.length&&(this._loadMatches(c.broad,"broad"),v=!0);c.narrow&&0<c.narrow.length&&(this._loadMatches(c.narrow,"narrow"),v=!0);
c.exact&&0<c.exact.length&&(this._loadMatches(c.exact,"exact"),v=!0);c.close&&0<c.close.length&&(this._loadMatches(c.close,"close"),v=!0);c.related&&0<c.related.length&&(this._loadMatches(c.related,"related"),v=!0);v&&x.set(this.mergeButton,"disabled",!1)}a.notes&&0<a.notes.length?e.forEach(a.notes,f.hitch(this,function(b){d.create("li",{lang:b.language,innerHTML:"\x3cstrong\x3e"+this._capitalize(b.type)+"\x3c/strong\x3e \x3cem\x3e("+b.language+")\x3c/em\x3e: "+b.note},this.scopeNoteNode,"last")})):
d.destroy(this.scopeNoteNode);a.sources&&0<a.sources.length?e.forEach(a.sources,f.hitch(this,function(b){d.create("li",{innerHTML:b.citation},this.sourcesNode,"last")})):d.destroy(this.sourcesNode)},_capitalize:function(a){return a[0].toUpperCase()+a.substr(1)},_loadMatches:function(a,g){var n=d.create("dt",{innerHTML:this.capitalize(g),id:g},this.matchesListNode,"last"),l=[],p=d.create("dd",{innerHTML:""},n);e.forEach(a,function(c,k){d.create("span",{id:c,innerHTML:c+'\x26nbsp;\x3ci class\x3d"fa fa-spinner fa-pulse"\x3e\x3c/i\x3e\x26nbsp;'},
p);l.push(this.conceptSchemeController.getMatch(c,g).then(f.hitch(this,function(h){var m=y.byId(h.data.uri);m.innerHTML='\x3ca href\x3d"'+h.data.uri+'" target\x3d"_blank" \x3e'+h.data.label+"\x3c/a\x3e"+(k===a.length-1?"":", ");B.set(m,"matched")}),function(h){}))},this);A(l).then(function(c){C("span:not(.matched)",y.byId(g)).forEach(function(k){d.destroy(k)})})},capitalize:function(a){return a.charAt(0).toUpperCase()+a.slice(1)}})});
//# sourceMappingURL=ConceptDetail.js.map