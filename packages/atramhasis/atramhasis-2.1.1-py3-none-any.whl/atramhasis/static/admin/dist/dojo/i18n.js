//>>built
define("dojo/i18n","./_base/kernel require ./has ./_base/array ./_base/config ./_base/lang ./_base/xhr ./json module".split(" "),function(u,q,B,F,P,p,z,Q,R){B.add("dojo-preload-i18n-Api",1);z=u.i18n={};var S=/(^.*(^|\/)nls)(\/|$)([^\/]*)\/?([^\/]*)/,T=function(a,b,d,c){var e=[d+c];b=b.split("-");for(var k="",l=0;l<b.length;l++)if(k+=(k?"-":"")+b[l],!a||a[k])e.push(d+k+"/"+c),e.specificity=k;return e},m={},K=function(a,b,d){d=d?d.toLowerCase():u.locale;a=a.replace(/\./g,"/");b=b.replace(/\./g,"/");
return/root/i.test(d)?a+"/nls/"+b:a+"/nls/"+d+"/"+b},U=u.getL10nName=function(a,b,d){return a=R.id+"!"+K(a,b,d)},V=function(a,b,d,c,e,k){a([b],function(l){var f=p.clone(l.root||l.ROOT),g=T(!l._v1x&&l,e,d,c);a(g,function(){for(var h=1;h<g.length;h++)f=p.mixin(p.clone(f),arguments[h]);m[b+"/"+e]=f;f.$locale=g.specificity;k()})})},W=function(a){var b=P.extraLocale||[];b=p.isArray(b)?b:[b];b.push(a);return b},H=function(a,b,d){var c=S.exec(a),e=c[1]+"/",k=c[5]||c[4],l=e+k,f=(c=c[5]&&c[4])||u.locale||
"",g=l+"/"+f;c=c?[f]:W(f);var h=c.length,r=function(){--h||d(p.delegate(m[g]))};f=a.split("*");var v="preload"==f[1];if(B("dojo-preload-i18n-Api")){if(v&&(m[a]||(m[a]=1,X(f[2],Q.parse(f[3]),1,b)),d(1)),(f=v)||(w&&G.push([a,b,d]),f=w&&!m[g]),f)return}else if(v){d(1);return}F.forEach(c,function(x){var n=l+"/"+x;B("dojo-preload-i18n-Api")&&L(n);m[n]?r():V(b,l,e,k,x,r)})};B("dojo-preload-i18n-Api");var Y=z.normalizeLocale=function(a){a=a?a.toLowerCase():u.locale;return"root"==a?"ROOT":a},w=0,G=[],X=z._preloadLocalizations=
function(a,b,d,c){function e(g,h){c([g],h)}function k(g,h){for(var r=g.split("-");r.length;){if(h(r.join("-")))return;r.pop()}h("ROOT")}function l(){for(--w;!w&&G.length;)H.apply(null,G.shift())}function f(g){g=Y(g);k(g,function(h){if(0<=F.indexOf(b,h)){var r=a.replace(/\./g,"/")+"_"+h;w++;e(r,function(v){for(var x in v){var n=v[x],y=x.match(/(.+)\/([^\/]+)$/);if(y){var M=y[2];y=y[1]+"/";if(n._localized){var I;if("ROOT"===h){var N=I=n._localized;delete n._localized;N.root=n;m[q.toAbsMid(x)]=N}else I=
n._localized,m[q.toAbsMid(y+M+"/"+h)]=n;h!==g&&function(C,D,A,Z){var E=[],O=[];k(g,function(t){Z[t]&&(E.push(q.toAbsMid(C+t+"/"+D)),O.push(q.toAbsMid(C+D+"/"+t)))});E.length?(w++,c(E,function(){for(var t=E.length-1;0<=t;t--)A=p.mixin(p.clone(A),arguments[t]),m[O[t]]=A;m[q.toAbsMid(C+D+"/"+g)]=p.clone(A);l()})):m[q.toAbsMid(C+D+"/"+g)]=A}(y,M,n,I)}}}l()});return!0}return!1})}c=c||q;f();F.forEach(u.config.extraLocale,f)},L=function(){},J={};L=function(a){for(var b,d=a.split("/"),c=u.global[d[0]],e=
1;c&&e<d.length-1;c=c[d[e++]]);c&&((b=c[d[e]])||(b=c[d[e].replace(/-/g,"_")]),b&&(m[a]=b));return b};z.getLocalization=function(a,b,d){var c,e=K(a,b,d);if(J[e])return J[e];H(e,q,function(k){c=J[e]=k});return c};return p.mixin(z,{dynamic:!0,normalize:function(a,b){return/^\./.test(a)?b(a):a},load:H,cache:m,getL10nName:U})});
//# sourceMappingURL=i18n.js.map