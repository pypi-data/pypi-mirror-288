import numpy as np
import matplotlib.pyplot as plt

# Step 1: Create a sample input signal
# Let's create a signal composed of two sine waves for demonstration.
sampling_rate = 240  # in Hz

signal = [-119.689941,-142.211914,-155.700684,-89.416504,-52.734375,-89.416504,-59.936523,-10.498047,-50.842285,-28.564453,-16.113281,-35.888672,-26.062012,-45.227051,-62.255859,-17.150879,29.602051,15.74707,-4.638672,-7.69043,-3.051758,10.986328,37.597656,32.287598,62.133789,67.626953,46.203613,49.377441,70.068359,43.029785,36.682129,58.044434,-12.268066,-36.804199,-56.884766,-52.978516,11.901855,-34.057617,-77.636719,-49.743652,-33.02002,-38.146973,-67.932129,-91.003418,-89.96582,-86.730957,-31.005859,5.371094,-41.931152,-88.317871,-60.302734,-3.417969,41.809082,84.716797,37.902832,-15.319824,15.319824,99.975586,96.008301,64.208984,65.490723,40.039063,50.964355,67.749023,90.759277,72.32666,32.104492,-13.244629,12.145996,56.640625,56.57959,43.457031,42.358398,7.8125,-16.662598,43.395996,33.26416,5.92041,24.108887,12.573242,27.22168,-18.737793,-26.428223,10.620117,-3.295898,44.189453,93.994141,78.979492,38.574219,44.494629,41.748047,33.874512,15.319824,32.043457,71.838379,49.133301,6.286621,-30.822754,-13.73291,-19.470215,-16.235352,1.525879,-12.451172,-16.174316,-11.291504,-14.038086,16.174316,-6.958008,-50.109863,-66.467285,-52.001953,-16.784668,6.225586,20.935059,-22.949219,-3.173828,-11.413574,-54.016113,-60.119629,-32.592773,-17.333984,-30.029297,16.967773,53.466797,79.345703,80.505371,117.553711,81.848145,43.151855,71.105957,89.111328,95.275879,102.416992,79.956055,42.053223,81.90918,61.340332,27.587891,21.118164,-16.174316,-10.437012,-15.74707,6.408691,-18.005371,-26.855469,21.850586,10.314941,-8.544922,-2.502441,-20.935059,1.342773,21.54541,-25.024414,-38.452148,-61.645508,-76.904297,-63.110352,-41.931152,-68.908691,-76.904297,-69.396973,-35.217285,-8.728027,-30.822754,-35.15625,-33.813477,-61.218262,-58.227539,-40.100098,-51.452637,-10.253906,-4.333496,-9.399414,-33.813477,-44.921875,-14.709473,-21.66748,-47.912598,-7.263184,18.371582,-45.166016,-58.776855,-58.654785,-32.287598,16.418457,12.695313,-6.225586,-27.404785,-21.850586,-12.329102,-6.103516,12.207031,-3.295898,-31.311035,-65.490723,-90.209961,-37.597656,-13.549805,-63.598633,-63.476563,-48.339844,-94.177246,-98.632813,-46.75293,-36.560059,-27.587891,-77.758789,-85.81543,-57.189941,-32.897949,-8.972168,-4.455566,-7.263184,-22.277832,-35.339355,-23.498535,0.12207,30.761719,46.325684,12.512207,-34.545898,-19.53125,8.361816,-9.094238,-5.310059,-4.211426,-22.399902,-47.973633,-51.208496,-78.552246,-65.734863,-110.290527,-131.04248,-99.975586,-117.919922,-125.244141,-132.751465,-123.352051,-87.524414,-78.491211,-93.383789,-92.712402,-127.929688,-179.748535,-120.605469,-93.383789,-131.04248,-102.600098,-31.433105,-52.307129,-52.062988,2.624512,-75.683594,-55.908203,-48.583984,-21.728516,-20.324707,-22.277832,-4.272461,-0.793457,47.668457,59.387207,49.133301,-4.699707,-21.728516,14.526367,11.291504,-14.404297,-17.944336,-30.761719,14.526367,39.001465,55.786133,88.134766,80.444336,26.550293,3.051758,-15.74707,21.54541,36.132813,-5.371094,-4.394531,-24.902344,-10.803223,19.226074,-3.051758,8.666992,14.404297,16.662598,61.706543,57.861328,-7.324219,12.695313,40.161133,44.006348,63.964844,72.44873,104.919434,108.032227,78.24707,95.947266,49.926758,61.523438,116.088867,76.171875,72.692871,66.650391,94.421387,70.617676,-22.277832,13.366699,-57.006836,-66.52832,-21.118164,12.329102,-3.967285,15.197754,18.127441,-17.456055,-26.977539,-60.913086,-94.482422,-74.09668,-22.766113,-57.128906,-33.508301,30.761719,65.917969,65.002441,32.287598,-13.48877,4.821777,72.143555,17.700195,13.916016,107.727051,114.196777,152.404785,162.353516,130.065918,89.233398,92.407227,153.930664,139.404297,125.793457,80.627441,43.457031,95.76416,81.604004,71.472168,81.176758,111.999512,101.501465,107.48291,129.211426,128.417969,74.035645,88.500977,93.017578,68.969727,65.490723,71.044922,53.344727,34.057617,95.76416,105.651855,120.483398,111.755371,99.54834,55.236816,46.936035,20.202637,17.089844,65.368652,9.70459,-19.714355,-7.141113,-19.897461,-9.94873,-16.235352,-43.579102,-11.230469,-14.892578,-10.803223,30.090332,-3.723145,14.892578,37.29248,29.968262,73.364258,99.731445,61.645508,23.132324,21.42334,9.033203,37.536621,63.110352,9.643555,14.648438,21.972656,29.602051,32.531738,3.967285,13.549805,16.357422,4.882813,11.901855,-32.165527,-30.883789,4.882813,93.933105,132.751465,62.011719,17.51709,33.569336,15.686035,64.147949,55.541992,20.019531,-18.798828,-27.648926,-14.221191,-24.719238,-29.968262,-2.319336,-10.131836,-3.295898,0.610352,-18.310547,-43.701172,-20.751953,41.931152,60.974121,88.134766,131.835938,43.029785,-22.155762,-49.316406,-74.523926,-27.22168,-39.672852,-62.927246,-31.921387,-53.466797,-48.461914,-20.202637,-74.34082,-102.905273,-65.246582,-67.260742,-22.216797,-32.958984,-49.926758,-37.658691,-7.8125,18.127441,33.26416,8.361816,-38.696289,-64.819336,-71.655273,-61.584473,-21.42334,-49.682617,-86.975098,-80.322266,-99.060059,-94.360352,-89.84375,-73.791504,-86.181641,-61.157227,-47.729492,-61.584473,-54.80957,-75.378418,-76.904297,-77.758789,-101.867676,-61.950684,-9.277344,-29.174805,18.127441,18.005371,21.911621,54.931641,92.224121,62.37793,-9.460449,66.40625,79.223633,10.009766,-37.841797,6.469727,13.244629,-0.915527,-5.371094,-20.324707,-15.014648,29.968262,35.888672,68.847656,107.23877,139.953613,106.811523,33.14209,25.878906,20.446777,51.513672,70.495605,80.200195,143.493652,171.142578,170.898438,167.96875,114.990234,49.621582,59.692383,73.852539,68.908691,31.860352,41.687012,43.457031,26.062012,10.742188,29.785156,75.317383,34.912109,-22.705078,-40.95459,6.347656,19.65332,-22.155762,-76.721191,-93.078613,-76.721191,-51.391602,-76.782227,-92.468262,-103.271484,-84.16748,-83.496094,-84.899902,-67.993164,-32.958984,23.742676,-1.708984,-32.714844,-51.574707,-13.916016,8.117676,-11.71875,34.362793,31.005859,22.705078,10.559082,2.441406,-12.512207,-55.114746,15.74707,-8.056641,-24.963379,45.410156,10.009766,-12.939453,-16.113281,16.601563,75.561523,109.680176,22.644043,-10.681152,-29.11377,-28.442383,51.208496,69.396973,27.709961,13.183594,-20.507813,-10.314941,27.160645,31.37207,3.112793,-49.865723,-72.021484,-4.455566,-23.498535,-73.486328,-79.772949,-102.050781,-10.009766,64.758301,39.489746,3.540039,-76.293945,-129.394531,-59.326172,-33.996582,-35.522461,-7.995605,9.155273,-12.390137,-2.01416,32.409668,33.508301,8.972168,-30.883789,-65.856934,-29.907227,-18.981934,-44.98291,-38.574219,-45.166016,-48.76709,-66.955566,-107.849121,-156.921387,-136.108398,-74.462891,-113.220215,-79.284668,-56.091309,-132.8125,-162.109375,-148.498535,-81.237793,-84.228516,-95.458984,-76.843262,-14.587402,-35.827637,-100.646973,-71.289063,-62.255859,-99.365234,-54.138184,2.075195,37.475586,14.343262,6.835938,-37.963867,-31.494141,32.958984,16.845703,-32.470703,-7.019043,6.774902,-17.578125,3.90625,49.621582,9.765625,4.089355,27.526855,7.751465,5.126953,23.376465,-14.709473,-26.184082,25.45166,1.647949,10.559082,39.428711,-5.249023,-22.460938,-14.099121,18.615723,-11.047363,-12.756348,66.223145,121.520996,123.901367,136.169434,166.137695,125.976563,98.388672,35.705566,31.677246,44.921875,26.611328,27.893066,67.626953,18.554688,17.211914,40.466309,13.000488,35.27832,16.967773,-8.728027,-23.681641,3.112793,-18.493652,-53.039551,-73.242188,-113.037109,-99.42627,-85.266113,-122.070313,-95.031738,-60.72998,-22.155762,-2.380371,-7.263184,-58.71582,-87.341309,-71.228027,-33.26416,-20.446777,22.277832,15.197754,-11.230469,16.296387,24.047852,14.038086,-33.203125,-19.104004,-28.015137,-17.51709,-20.751953,-41.442871,-56.640625,-116.882324,-72.021484,-34.851074,-23.010254,-59.387207,-54.56543,3.90625,-3.540039,-40.100098,-6.958008,-57.128906,-82.580566,-27.22168,-13.061523,51.879883,59.387207,28.686523,38.696289,82.641602,70.495605,104.614258,75.134277,40.83252,69.702148,20.507813,16.052246,17.578125,11.657715,-11.413574,-28.137207,-2.624512,-8.605957,-36.437988,-8.911133,-20.202637,-40.039063,-72.32666,-48.339844,-41.19873,1.464844,24.108887,-30.822754,-46.325684,-58.288574,-53.039551,11.291504,20.019531,21.362305,29.296875,22.216797,18.676758,45.776367,60.058594,52.856445,30.334473,38.574219,93.261719,54.016113,64.941406,86.975098,112.976074,113.891602,85.876465,70.800781,134.82666,165.710449,123.657227,116.638184,96.679688,84.472656,134.82666,111.938477,125.12207,145.874023,141.357422,151.611328,180.053711,159.423828,108.520508,71.655273,44.555664,39.855957,19.40918,48.095703,49.560547,53.405762,24.536133,15.380859,11.71875,-2.929688,52.307129,111.26709,63.781738,40.649414,59.509277,29.663086,32.958984,54.260254,21.850586,30.212402,45.288086,46.875,44.250488,43.762207,53.588867,29.23584,50.964355,60.119629,58.59375,59.509277,66.589355,45.166016,7.629395,9.033203,6.164551,17.333984,50.170898,67.382813,39.978027,44.189453,24.963379,60.913086,62.805176,50.537109,29.846191,4.516602,-44.250488,-27.404785,40.039063,22.033691,27.160645,62.927246,26.672363,13.671875,-20.751953,-61.767578,-68.115234,-93.017578,-87.219238,-54.748535,-38.879395,-63.537598,-79.162598,-55.603027,-34.423828,-40.466309,-43.884277,-80.200195,-95.947266,-72.875977,-90.148926,-99.304199,-129.821777,-70.678711,-55.847168,-45.776367,1.159668,-28.076172,-54.199219,-82.580566,-35.095215,15.014648,0.488281,-39.123535,-11.169434,-12.451172,-80.444336,-103.271484,-86.425781,-39.123535,-35.949707,-82.580566,-47.790527,31.616211,66.650391,63.049316,55.664063,17.456055,-0.793457,33.447266,21.240234,50.598145,8.239746,-42.907715,-2.258301,13.305664,14.465332,-23.864746,-61.584473,-51.879883,-63.964844,-41.442871,-26.123047,-67.199707,-107.23877,-125.549316,-69.091797,-20.568848,-34.484863,-105.834961,-102.355957,-66.40625,-75.073242,-105.34668,-120.727539,-113.40332,-119.07959,-105.041504,-62.255859,-58.776855,-67.504883,-67.260742,-26.611328,-40.039063,-34.179688,-3.112793,8.789063,32.592773,28.442383,-7.995605,-32.470703,-21.362305,17.39502,44.433594,68.969727,69.335938,41.07666,32.348633,63.476563,67.993164,72.631836,72.509766,48.706055,-9.94873,-7.873535,-5.615234,-26.184082,-33.569336,-26.428223,-51.452637,-42.724609,-25.695801,-2.502441,-9.887695,-14.099121,-9.033203,-27.526855,-10.009766,28.076172,64.941406,63.110352,12.390137,-10.437012,-49.560547,-27.404785,1.403809,27.587891,24.291992,26.611328,12.451172,-57.006836,-44.006348,32.592773,66.772461,31.311035,1.098633,28.686523,55.541992,73.364258,87.95166,55.053711,73.242188,59.509277,59.753418,86.730957,52.612305,64.27002,43.884277,49.499512,58.654785,33.203125,10.070801,28.747559,3.479004,12.329102,42.724609,22.644043,62.072754,8.483887,-32.958984,-43.518066,-29.846191,25.756836,37.414551,-33.508301,-54.321289,-24.108887,-11.657715,-2.01416,1.647949,-46.386719,-65.185547,-77.880859,-109.25293,-111.328125]

# Step 2: Compute the FFT of the signal
fft_result = np.fft.rfft(signal, norm="ortho")

# Step 3: Compute the corresponding frequencies
frequencies = np.fft.rfftfreq(len(signal), 1 / sampling_rate)

# Step 4: Select the desired frequencies and extract their corresponding FFT values
# Let's say we are interested in the frequencies: 50 Hz, 120 Hz, and 200 Hz
desired_freqs = np.arange(0,60, 0.25)
desired_indices = [np.argmin(np.abs(frequencies - f)) for f in desired_freqs]
fft_values_at_desired_freqs = fft_result[desired_indices]

# Output the results
print("Desired Frequencies: ", desired_freqs)
print(len(fft_values_at_desired_freqs))
print("FFT Values at Desired Frequencies: ", abs(fft_values_at_desired_freqs))

# Plot the FFT for visualization
plt.plot(frequencies[:len(frequencies)//2], np.abs(fft_result)[:len(frequencies)//2])
plt.xlabel('Frequency (Hz)')
plt.ylabel('Magnitude')
plt.title('FFT of the Signal')
plt.show()