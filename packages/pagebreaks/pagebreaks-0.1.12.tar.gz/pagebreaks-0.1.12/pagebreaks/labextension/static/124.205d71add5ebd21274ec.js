"use strict";(self.webpackChunkpagebreaks=self.webpackChunkpagebreaks||[]).push([[124],{124:(e,t,n)=>{n.r(t),n.d(t,{default:()=>se});var o=n(607),a=n(631),s=n(31),i=n(765),r=n(79),l=n.n(r),d=n(72),c=n.n(d),g=n(825),u=n.n(g),p=n(659),m=n.n(p),h=n(56),b=n.n(h),v=n(540),f=n.n(v),k=n(113),C=n.n(k),x=n(646),w={};w.styleTagTransform=C(),w.setAttributes=b(),w.insert=m().bind(null,"head"),w.domAPI=u(),w.insertStyleElement=f(),c()(x.A,w),x.A&&x.A.locals&&x.A.locals;var S=n(465),y=n(355),_=n(345),N=n.n(_);class M extends y.ReactWidget{constructor(){super(),this.addClass("jp-pb-pluginstatus-header"),this.id="pagebreaks-plugin-status-header"}render(){return N().createElement(N().Fragment,null,N().createElement("span",{className:"jp-pb-pluginstatus-maintext"},"Pagebreaks IPython Plugin Inactive!"),N().createElement("br",null),N().createElement("span",{className:"jp-pb-pluginstatus-bottomtext"},"Run '%load_ext pagebreaksip' to load"))}}class L{languageMode;activeSetting;loggingSetting;languagePromiseWaiting;statusFuture;status;headerWidget;updatePluginThrottle;constructor(){this.languageMode="",this.activeSetting=!1,this.loggingSetting=!1,this.languagePromiseWaiting=!1,this.statusFuture=null,this.status="unset",this.headerWidget=null,this.updatePluginThrottle=l().throttle(this.checkIPPlugin,1e3)}setLanguageMode(e){this.languageMode=e}setActiveSetting(e){this.activeSetting=e}setLoggingSetting(e){this.loggingSetting=e}findLanguageSetting(e){if("connected"===e?.currentWidget?.sessionContext.session?.kernel?.connectionStatus&&!this.languagePromiseWaiting){const t=e?.currentWidget?.sessionContext?.session?.kernel?.requestKernelInfo();t.then((e=>{const t=e?.content;console.log("setting language mode",t.language_info.name),this.setLanguageMode(t.language_info.name)})).finally((()=>{this.languagePromiseWaiting=!1})),this.languagePromiseWaiting=!0}}checkisActive(e){return""===this.languageMode&&this.findLanguageSetting(e),!(!this.activeSetting||"python"!==this.languageMode)}isActive(){return!(!this.activeSetting||"python"!==this.languageMode)}checkIsLogging(){return this.loggingSetting}checkIPPlugin(e){if("python"!==this.languageMode)return void this.setPluginStatus("unset",e);const t={code:'print("extensions: ", get_ipython().extension_manager.loaded)\nprint(get_ipython().ast_transformers)',silent:!0,store_history:!1},n=e?.sessionContext?.session?.kernel;if(n){if(null===this.statusFuture||this.statusFuture.isDisposed){const o=n.requestExecute(t);o.onIOPub=t=>{if("status"!==t.header.msg_type&&"stream"!==t.header.msg_type&&console.log("checkIPPlugin",t.header.msg_type,t.content),S.KernelMessage.isStreamMsg(t)){const n=t;n.content.text.search("'pagebreaksip'")>0&&n.content.text.search("PagebreaksASTTransformer")>0?this.setPluginStatus("active",e):n.content.text.search("extensions")>=0?this.setPluginStatus("inactive",e):console.log("found weird message!",t)}},this.statusFuture=o}}else console.log("Session has no kernel.")}setPluginStatus(e,t){this.status!==e&&console.log("changing status to : ",e),this.status=e,this.updatePluginStatusHeader(t)}getPluginStatus(){return this.status}updatePluginStatusHeader(e){e instanceof s.NotebookPanel&&(null===this.headerWidget&&(this.headerWidget=new M),"active"===this.status?this.headerWidget.setHidden(!0):this.headerWidget.setHidden(!1),e.contentHeader.contains(this.headerWidget)||e.contentHeader.addWidget(this.headerWidget))}updatePlugin(e){this.updatePluginThrottle(e)}}const j=l().throttle((function(e,t,n){const o=e.currentWidget;if(null===o)return;if(void 0===o.model||null===o.model)return;const a={metadata:o.model.sharedModel.metadata,nbformat_minor:o.model.sharedModel.nbformat_minor,nbformat:o.model.sharedModel.nbformat,notebookName:o.title.label,cells:o.model.sharedModel.cells.map((e=>{const t=e.toJSON();if("code"===e.cell_type){const n=e.getOutputs().flatMap((e=>e.data?Object.keys(e.data):[]));t.output_types=n}return t}))};if(a.cells.forEach(((e,t)=>{!e.attachments||(e.attachments={}),!e.outputs||(e.outputs={}),e.index=t,!e.execution_count||(e.execution_count=null)})),n.checkisActive(e)){const e=E(o);a.cells.forEach(((t,n)=>{const o=!0===t.metadata.pagebreakheader,a=!0===t.metadata.pagebreak;!t.metadata||(t.metadata={}),!o||(t.metadata.pagebreakheader=!0),!a||(t.metadata.pagebreak=!0);const s=t.id?.toString();if(s&&e.cellsToScopes){const n=e.cellsToScopes[s];void 0!==n&&(t.pagebreak=n)}}))}console.log("Sending JSON Log"),P(e,"RELOAD_NOTEBOOK:"+JSON.stringify(a),n)}),200);function E(e){const t=e.content.widgets;e.content.model?.sharedModel.cells.at(0);const n=[];t.forEach(((e,t)=>{if("raw"===e.model.type&&!0===e.model.getMetadata("pagebreak")){let o=function(e){const t=new RegExp(/export {(.*)}/).exec(e),n=new RegExp(/\s*(\S*)/,"g");if(t){const e=[...(t.at(1)??"").matchAll(n)].map((e=>e.at(1)??"")).filter((e=>""!==e));return e.some((e=>e.search(",")>=0))?null:e}return null}(e.model.sharedModel.getSource());null===o?(o=[],e.node.title='Export Statement Poorly Formed, should look like:\n "export { var1 var2 var3 }"',e.editorWidget?.addClass("jp-pb-poorly-formed-export")):(e.node.title="",e.editorWidget?.removeClass("jp-pb-poorly-formed-export"));const a={index:t,id:e.model.id,type:"pagebreak",variables:o??[]};n.push(a)}else if("markdown"===e.model.type&&!0===e.model.getMetadata("pagebreakheader")){const o={index:t,id:e.model.id,type:"header",variables:[]};n.push(o)}else{const o={index:t,id:e.model.id,type:e.model.type,variables:[]};n.push(o)}})),n.sort(((e,t)=>e.index-t.index));const o=n.filter((e=>"pagebreak"===e.type)).map(((e,t)=>({index:e.index,pbNum:t,exportedVariables:e.variables,id:e.id})));return 0===o.length&&o.push({index:n.length,pbNum:0,exportedVariables:["pagebreaks_simulated"],id:""}),{cellsToScopes:n.filter((e=>"pagebreak"!==e.type)).map((e=>{const t=o.filter((t=>t.index>e.index))?.sort(((e,t)=>e.index-t.index))?.at(0);if(t)return{[e.id]:t.pbNum};{const t=o.sort(((e,t)=>e.index-t.index)).at(-1);if(t)return{[e.id]:t.pbNum+1};if(0===o.length)return{[e.id]:0};console.error("Can't find matching scope for cell",e)}})).reduce(((e,t)=>({...e,...t})),{}),scopeList:o.map((e=>({[e.pbNum]:e.exportedVariables}))).reduce(((e,t)=>({...e,...t}))),scopes:o,cellList:n}}function P(e,t,n){if(!n.checkIsLogging())return void console.log("Not sending log because its diabled");const o=e instanceof s.NotebookTracker?e.currentWidget:e,a=o?.title.label,i={code:"%%pb_log \nNAME["+a+"]"+t,silent:!0,store_history:!1},r=o?.sessionContext?.session?.kernel;r?r.requestExecute(i).onIOPub=e=>{"status"!==e.header.msg_type&&console.log("sendLog",e.content)}:console.error("Session has no kernel.")}function A(e,t,n){j(e,t,n)}const D="jp-pb-pagebreakCell",I="jp-pb-header",W="jp-mod-dropTarget-bottom",T="jp-pb-badFormatting";function O(e,t,n){n?e.addClass(t):e.removeClass(t)}function H(e,t){switch(e?.model.type){case"markdown":case"code":return t?.cellsToScopes?.[e.model.id]??-1;case"raw":return t?.scopes.find((t=>t.id===e.model.id))?.pbNum??-1}return-1}function R(e,t,n){const o=t?.widgets.findIndex((t=>H(t,n)===e&&t.model.getMetadata("pagebreakheader")))??-1,a=t?.widgets.findIndex((t=>H(t,n)===e&&t.model.getMetadata("pagebreak")))??-1;return[t?.widgets.at(o),t?.widgets.at(a),o,a]}var V=n(530),F=n(53),B=n(262),J=n(736),Z=n(873);const q="jp-mod-dropTarget",K="jp-mod-dropSource",U="application/vnd.jupyter.cells",X="jp-dragImage",Y="jp-dragImage-singlePrompt",z="jp-dragImage-content",$="jp-dragImage-prompt",G="jp-dragImage-multipleBack";class Q{_drag=null;_dragData=null;_mouseMode=null;_notebook;_notebookPanel;_manager;_activeManager;constructor(e,t,n){this._manager=t,this._activeManager=n,this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}get currentNotebook(){return this._notebook}update(e){this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}addStudyListeners(){this._notebookPanel.node.querySelector('[data-lm-dragscroll="true"]')?.addEventListener("scrollend",this,{passive:!0})}removeStudyListeners(){void 0===this._notebook.outerNode?console.log("Pagebreaks: Can't Attach ScrollEnd"):this._notebook.outerNode?.removeEventListener("scrollend",this)}addListeners(){this.removeNotebookListeners();const e=this._notebook.node;e.addEventListener("mousedown",this),e.addEventListener("mousedown",this,!0),e.addEventListener("lm-dragover",this,!0),e.addEventListener("lm-drop",this,!0),e.addEventListener("lm-dragleave",this,!0)}removeNotebookListeners(){const e=this._notebook;e.node.removeEventListener("lm-dragover",this._notebook,!0),e.node.removeEventListener("lm-dragover",this._notebook),e.node.removeEventListener("lm-drop",this._notebook,!0),e.node.removeEventListener("lm-drop",this._notebook),e.node.removeEventListener("mousemove",this._notebook,!0),e.node.removeEventListener("mousedown",this._notebook,!0),e.node.removeEventListener("mousedown",this._notebook)}removeListeners(){const e=this._notebook.node;window.removeEventListener("scrollend",this),e.removeEventListener("mousedown",this),e.removeEventListener("mousedown",this,!0),e.removeEventListener("lm-dragover",this,!0),e.removeEventListener("lm-drop",this,!0),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0)}switchNotebooks(e){this.removeListeners(),this.removeStudyListeners(),this._notebook=e.content,this._notebookPanel=e,this._activeManager.isActive()&&this.addListeners(),this.addStudyListeners()}handleEvent(e){if(this._notebook.model)switch(e.type){case"scroll":console.log("SCROLLTOP");break;case"scrollend":this.handleScrollEnd(e);break;case"mousedown":e.eventPhase===Event.CAPTURING_PHASE?this.handleMouseDownCapture(e):e.defaultPrevented||this.handleMouseDown(e);break;case"mouseup":e.currentTarget===document&&this._evtDocumentMouseup(e);break;case"mousemove":e.currentTarget===document&&this._evtDocumentMousemove(e);break;case"lm-dragover":this.handleDragOver(e);break;case"lm-drop":this.handleDrop(e);break;case"lm-dragleave":this.handleDragLeave(e)}else console.log("no model")}handleScrollEnd(e){const t=this._notebook.widgets.map(((e,t)=>{const n=e.node.getBoundingClientRect();return[t,n.top>=0&&n.left>=0&&n.bottom<=(window.innerHeight||document.documentElement.clientHeight)&&n.right<=(window.innerWidth||document.documentElement.clientWidth)]})).filter((e=>e[1])).sort(((e,t)=>e[0]-t[0])),n=t.at(0)?.at(0),o=t.at(-1)?.at(0);P(this._notebookPanel,"SCROLLEND ["+n+","+o+"]",this._activeManager)}handleDragLeave(e){if(!e.mimeData.hasData(U))return;const t=this._notebook.node.getElementsByClassName(q);t.length&&t[0].classList.remove(q);const n=this._notebook.node.getElementsByClassName(W);n.length&&n[0].classList.remove(W)}handleMouseDownCapture(e){const{button:t,shiftKey:n}=e,[o,a]=this.findEventTargetAndCell(e,this._notebook),s=this._notebook.widgets[a];2===t&&!n&&s&&s.editorWidget?.node.contains(o)&&(this._notebook.mode="command",e.preventDefault())}handleMouseDown(e){const t=this._notebook,{button:n,shiftKey:o}=e;if(0!==n&&2!==n)return;if(o&&2===n)return;const[a,s]=this.findEventTargetAndCell(e,t),i=t.widgets[s];let r;if(r=i?i.editorWidget?.node.contains(a)?"input":i.promptNode?.contains(a)?"prompt":"cell":"notebook","input"!==r&&(t.mode="command"),"notebook"===r);else if("prompt"===r||"cell"===r){const l=""!==(window.getSelection()??"").toString();if(0!==n||!o||l||["INPUT","OPTION"].includes(a.tagName))0!==n||o?2===n&&(t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s),e.preventDefault()):("prompt"===r&&(this._dragData={pressX:e.clientX,pressY:e.clientY,index:s},this._mouseMode="couldDrag",document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0),e.preventDefault()),t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s));else{e.preventDefault();try{t.extendContiguousSelectionTo(s)}catch(e){return console.error(e),void t.deselectAll()}this._mouseMode="select",document.addEventListener("mouseup",this,!0),document.addEventListener("mousemove",this,!0)}}else"input"===r&&(2!==n||t.isSelectedOrActive(i)||(t.deselectAll(),t.activeCellIndex=s));t.activate()}_evtDocumentMouseup(e){document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this._mouseMode=null}_evtDocumentMousemove(e){switch(e.preventDefault(),e.stopPropagation(),this._mouseMode){case"select":{const t=e.target,n=this.findCell(t,this._notebook);-1!==n&&this._notebook.extendContiguousSelectionTo(n);break}case"couldDrag":{const t=this._dragData,n=Math.abs(e.clientX-t.pressX),o=Math.abs(e.clientY-t.pressY);if(n>=5||o>=5){this._mouseMode=null;const n=e.target,o=this.findCell(n,this._notebook);if(-1===o)return void console.error("Couldn't find Cell");const a=this._notebook.widgets.at(o),s=!0===a?.model?.getMetadata("pagebreakheader"),i=!0===a?.model?.getMetadata("pagebreak");if(s||i){let e=-1,t=-1;const n=this._manager?.previousSchema;if(s){e=o;const s=n?.cellsToScopes?.[a.model.id],i=n?.scopes.find((e=>e.pbNum===s))?.index;if(i){if(t=i,"markdown"!==a.model.type)return;{const e=a;if(e.headingCollapsed){const n=e.numberChildNodes+o;if(t!==n)return void console.error("collapsed heading malformed",o,t,n)}}}}else if(i){t=o;const a=this._notebook.widgets[o],s=n?.scopes.find((e=>e.id===a.model.id))?.pbNum??void 0,i=this._notebook?.widgets?.find((e=>e.model.getMetadata("pagebreakheader")&&this._manager?.previousSchema?.cellsToScopes?.[e.model.id]===s))??void 0,r=this._notebook?.widgets?.findIndex((e=>e.model.id===i?.model.id))??void 0;r&&(e=r)}if(-1!==e&&-1!==t){if(this._notebook.widgets.filter(((n,o)=>n.model.getMetadata("pagebreakheader")&&o<t&&o>e)).length>0)return void console.error("Bad Selection");const n=this._notebook.widgets[e];n instanceof V.MarkdownCell&&n.headingCollapsed?console.log("collapsed"):(this._notebook.deselectAll(),this._notebook.activeCellIndex=t,this._notebook.extendContiguousSelectionTo(e))}}this.startDrag(t.index,e.clientX,e.clientY)}break}}}handleDragOver(e){const t=this._notebook;if(console.log("dragover"),!e.mimeData.hasData(U))return;e.preventDefault(),e.stopPropagation(),e.dropAction=e.proposedAction;const n=t.node.getElementsByClassName(q);if(n.length){const e=n[0];e.classList.remove(q),e.classList.remove(W)}const o=t.node.getElementsByClassName(W);o.length&&o[0].classList.remove(W);const a=e.target;let i=this.findCell(a,t),r=!1;-1===i?(i=t.widgets.length-1,r=!0):t.widgets[t.widgets.length-1].node.classList.remove(W);const l=t.widgets[i],d=e.mimeData.getData("internal:cells"),c=d[d.length-1];if(c instanceof V.MarkdownCell&&c.headingCollapsed){const e=s.NotebookActions.findNextParentHeading(c,this._notebook);if(e>0){const t=(0,F.findIndex)(this._notebook.widgets,(e=>c.model.id===e.model.id));d.push(...this._notebook.widgets.slice(t+1,e))}}console.log("toMove:",d),this.isValidDrop(l,d,r,t)&&(r?l.node.classList.add(W):l.node.classList.add(q))}isValidDrop(e,t,n,o){const a=t.findIndex((e=>e.hasClass(I))),s=t.findIndex((e=>e.hasClass(D))),i=t.length;console.log("header, footer","selectionlength",a,s,i);const r=-1!==a,l=-1!==s;return console.log(r,l),!((r||l)&&r!==l||(0===a&&s===i-1?!(e.hasClass(I)||n&&e.hasClass(D))||(console.log("valid drop",a,s),0):(r||l)&&(console.log("Found INVALID Drag State!","header = ",a,"footer = ",s,i),1)))}handleDrop(e){const t=this._notebook;if(console.log("handle Drop"),!e.mimeData.hasData(U))return;if(e.preventDefault(),e.stopPropagation(),"none"===e.proposedAction)return void(e.dropAction="none");let n=e.target;for(;n&&n.parentElement;){if(n.classList.contains(q)){n.classList.remove(q);break}n=n.parentElement}t.widgets.forEach((e=>e.node.classList.remove(W)));const o=t.model,a=e.source;if(a===t){e.dropAction="move";const o=e.mimeData.getData("internal:cells"),i=o[o.length-1];if(i instanceof V.MarkdownCell&&i.headingCollapsed){const e=s.NotebookActions.findNextParentHeading(i,a);if(e>0){const t=(0,F.findIndex)(a.widgets,(e=>i.model.id===e.model.id));o.push(...a.widgets.slice(t+1,e))}}const r=F.ArrayExt.firstIndexOf(t.widgets,o[0]);let l=this.findCell(n,t);if(-1!==l&&l>r?l-=1:-1===l&&(l=t.widgets.length-1),l>=r&&l<r+o.length)return;if(console.log("dropping :",o.map((e=>e.model.sharedModel.getSource())).toString(),"to: ",l,"from:",r),!this.isValidDrop(t.widgets[l],o,!1,t))return void console.log("drop invalid");t.moveCell(r,l,o.length)}else{e.dropAction="copy";let a=this.findCell(n,t);-1===a&&(a=t.widgets.length);const s=a,i=e.mimeData.getData(U);o.sharedModel.insertCells(a,i),t.deselectAll(),t.activeCellIndex=s,t.extendContiguousSelectionTo(a-1)}s.NotebookActions.focusActiveCell(t)}findEventTargetAndCell(e,t){let n=e.target,o=this.findCell(n,t);return-1===o&&(n=document.elementFromPoint(e.clientX,e.clientY),o=this.findCell(n,t)),[n,o]}findCell(e,t){let n=e;for(;n&&n!==t.node;){if(n.classList.contains("jp-Notebook-cell")){const e=F.ArrayExt.findFirstIndex(t.widgets,(e=>e.node===n));if(-1!==e)return e;break}n=n.parentElement}return-1}startDrag(e,t,n){const o=this._notebook.model.cells,a=[],s=[];let i=-1;for(const e of this._notebook.widgets){const t=o.get(++i);this._notebook.isSelectedOrActive(e)&&(e.addClass(K),a.push(t.toJSON()),s.push(e))}const r=this._notebook.activeCell;let l,d=null;if("code"===r?.model.type){const e=r.model.executionCount;l=" ",e&&(l=e.toString())}else l="";d=this.createDragImage(a.length,l,r?.model.sharedModel.getSource().split("\n")[0].slice(0,26)??""),this._drag=new J.Drag({mimeData:new B.MimeData,dragImage:d,supportedActions:"copy-move",proposedAction:"copy",source:this._notebook}),this._drag.mimeData.setData(U,a),this._drag.mimeData.setData("internal:cells",s);const c=s.map((e=>e.model.sharedModel.getSource())).join("\n");this._drag.mimeData.setData("text/plain",c),document.removeEventListener("mousemove",this,!0),document.removeEventListener("mouseup",this,!0),this._mouseMode=null,this._drag.start(t,n).then((e=>{if(!this._notebook.isDisposed){this._drag=null;for(const e of s)e.removeClass(K)}}))}createDragImage(e,t,n){return e>1?""!==t?Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:X},Z.h.span({className:$},"["+t+"]:"),Z.h.span({className:z},n)),Z.h.div({className:G},""))):Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:X},Z.h.span({className:$}),Z.h.span({className:z},n)),Z.h.div({className:G},""))):""!==t?Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:`${X} ${Y}`},Z.h.span({className:$},"["+t+"]:"),Z.h.span({className:z},n)))):Z.VirtualDOM.realize(Z.h.div(Z.h.div({className:`${X} ${Y}`},Z.h.span({className:$}),Z.h.span({className:z},n))))}}var ee=n(602);class te{previousSchema;lastSend;future;previousJSON;eventHandlers;constructor(){this.previousSchema=null,this.future=null,this.lastSend=new Date(0),this.eventHandlers=null}switchNotebooks(e,t,n){ee.Signal.disconnectAll(this),this.addCommandHooks(t,e,n),this.addCellChangeHooks(e,n)}addCommandHooks(e,t,n){const{commands:o}=e;o.commandExecuted.connect(((e,o)=>{switch(o.id){case"docmanager:rename":P(t,"rename document!",n);break;case"docmanager:save":A(t,this,n);break;case"toolbar-button:add-pagebreak":P(t,"add_pagebreak",n);break;case"toolbar-button:run-pagebreak":P(t,"run_pagebreak",n);break;case"toolbar-button:merge-pagebreak":P(t,"merge_pagebreak",n);break;case"notebook:restart-kernel":P(t,"restart_kernel",n)}}),this)}addCellChangeHooks(e,t){const n=e.currentWidget?.content;void 0!==n&&n.stateChanged.connect(((n,o)=>{"mode"===o.name?(console.log("finished editing, sending diff"),A(e,this,t)):"activeCellIndex"===o.name&&(console.log("active cell index changed, sending diff"),A(e,this,t))}),this)}}const ne={id:"pagebreaks:plugin",description:"A JupyterLab extension.",autoStart:!0,requires:[s.INotebookTracker,i.ISettingRegistry,o.ISessionContextDialogs,o.ICommandPalette,a.IDocumentManager],optional:[],activate:(e,t,n,o,a,i,r)=>{const{commands:l}=e;console.log("JupyterLab extension pagebreaks is activated!"),l.commandExecuted.connect(((n,o)=>{const a=t.currentWidget;a?.content.isVisible&&a.isRevealed,oe(e,t,d,c)}),void 0);const d=new te,c=new L;n&&(n.load(ne.id).then((e=>{console.log("pagebreaks settings loaded:",e.composite),c.setLoggingSetting("true"===e.get("enableLogging").composite?.toString().toLowerCase()??!1),c.setActiveSetting("true"===e.get("enablePlugin").composite?.toString().toLowerCase()??!1)})).catch((e=>{console.error("Failed to load settings for pagebreaks.",e)})),n.pluginChanged.connect((e=>{n.load(ne.id).then((e=>{c.setLoggingSetting("true"===e.get("enableLogging").composite?.toString().toLowerCase()??!1),c.setActiveSetting("true"===e.get("enablePlugin").composite?.toString().toLowerCase()??!1)})).catch((e=>{console.error("Failed to load settings for pagebreaks.",e)}))}),void 0)),t.currentChanged.connect((()=>{t.currentWidget?.sessionContext.kernelChanged.connect((()=>{c&&c.findLanguageSetting(t)})),c&&c.findLanguageSetting(t)})),function(e,t,n,o,a,i,r){const{commands:l}=e,d=new y.LabIcon({name:"ui-components:run-pagebreak",svgstr:'<?xml version="1.0" encoding="UTF-8"?>\n<svg id="Layer_1" data-name="Layer 1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 22 22">\n<g class="jp-icon3" fill="#616161">\n  <path d="m3.01,2.17v14l11-7L3.01,2.17Z"/>\n  <path d="m14.57,14.57l-1.38-1.46,1.38-1.46-.42-.44-1.8,1.9,1.8,1.9.42-.44Zm1.56,0l1.38-1.46-1.38-1.46.42-.44,1.8,1.9-1.8,1.9-.42-.44h0Z"/>\n  <rect x="11" y="15.28" width="8.69" height=".85"/>\n  <path d="m14.57,19.64l-1.38-1.46,1.38-1.46-.42-.44-1.8,1.9,1.8,1.9.42-.44Zm1.56,0l1.38-1.46-1.38-1.46.42-.44,1.8,1.9-1.8,1.9-.42-.44h0Z"/>\n</g>\n</svg>'}),c=new y.LabIcon({name:"ui-components:add-pagebreak",svgstr:'<svg width="22" height="22" viewBox="0 0 22 22" xmlns="http://www.w3.org/2000/svg">\n\t<g class="jp-icon3" fill="#616161">\n     <path d="m9.28,7l-3.04-3.04,3.04-3.04-.92-.92-3.96,3.96,3.96,3.96.92-.92Zm3.43,0l3.04-3.04-3.04-3.04.92-.92,3.96,3.96-3.96,3.96-.92-.92h0Z"/>\n    <path d="m9.28,19.58l-3.04-3.04,3.04-3.04-.92-.92-3.96,3.96,3.96,3.96.92-.92Zm3.43,0l3.04-3.04-3.04-3.04.92-.92,3.96,3.96-3.96,3.96-.92-.92h0Z"/>\n    <rect y="9.63" width="22" height="2"/>\n\t</g>\n</svg>\n'}),g=new y.LabIcon({name:"ui-components:merge-pagebreak",svgstr:'<?xml version="1.0" encoding="UTF-8"?>\n<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 19.06 19.53">\n    <g class="jp-icon3" fill="#616161">\n    <path d="m7.06,18.25l-4.39-4.17,4.38-4.18-1.34-1.27L0,14.09l5.72,5.44,1.33-1.27Zm4.96,0l4.38-4.18-4.39-4.17,1.33-1.27,5.72,5.44-5.71,5.45-1.34-1.27h0Z"/>\n    <path d="m4.06,4.82c-.29.29-.29.77,0,1.06h0c.29.29.77.29,1.06,0l3.66-3.42v9.25c0,.41.32.75.73.75h.02c.41,0,.75-.34.75-.75V2.46l3.65,3.43c.29.29.77.29,1.07,0h0c.29-.29.29-.77,0-1.06L10.24.29c-.39-.39-1.02-.39-1.41,0l-4.76,4.53Z"/>\n  </g>\n</svg>'});l.addCommand("docmanager:convert-pagebreak",{label:()=>"Convert Pagebreak To Regular Notebook",caption:"Convert Pagebreak To Regular Notebook",execute:()=>{if(null===t.currentWidget)return;const e=t.currentWidget;if(null===e)return;const n=E(e),o=e.content,a=n.cellList.filter((e=>"pagebreak"===e.type||"code"===e.type)).map((e=>"pagebreak"===e.type?{index:e.index,id:e.id,type:e.type,variables:[e.variables],pbNum:n.scopes.find((t=>e.id===t.id))?.pbNum}:"code"===e.type?{index:e.index,id:e.id,type:e.type,variables:[],source:o._findCellById(e.id)?.cell.model.sharedModel.getSource()}:void 0));console.log("transform list",a);const i=function(e,t){const n=e instanceof s.NotebookTracker?e.currentWidget:e,o={code:t,silent:!0,store_history:!1},a=n?.sessionContext?.session?.kernel;return a?a.requestExecute(o):void console.error("Session has no kernel.")}(t,"%%pb_transform \n"+JSON.stringify(a));void 0!==i&&(i.onIOPub=async e=>{if("stream"===e.header.msg_type){console.log("Send Transform",e);const n=e;if("stdout"===n.content.name){const e=JSON.parse(n.content.text);if(console.log(e),null===t.currentWidget)return;const a=(await l.execute("docmanager:duplicate",{path:t.currentWidget.context.path})).path;console.log(a);const i=await l.execute("docmanager:open",{path:a});if(!(i?.content instanceof s.Notebook))return;const d=i.content.parent;d instanceof s.NotebookPanel&&(console.log("saving"),d.context.save()),console.log(t.currentWidget?.title);const c=i.content;if(void 0===c)return;const g=o.widgets.map((e=>e.model.toJSON()));if(void 0===g)return;const u=g.map((t=>{const n=e.find((e=>e.id===t?.id));return void 0!==n&&"code"===t?.cell_type&&void 0!==n.newText?(console.log(t.source.toString().split("\n")),t.source=t.source.toString().split("\n").map((e=>"# ".concat(e).concat("\n"))).reduce(((e,t)=>e.concat(t))).concat("\n",n.newText),console.log("setting source",t.source),t):void 0!==n&&"raw"===t?.cell_type&&void 0!==n.newText?(t.metadata.deleteable=!0,t.metadata.pagebreak=!1,t.cell_type="code",t.source=n.newText,t):t.metadata.pagebreakheader?(t.metadata.pagebreakheader=!1,t.metadata.deleteable=!0,t):t}));console.log("NEW CELLS",u),await l.execute("docmanager:reload",{path:a});const p=r.contextForWidget(c);await(p?.save()),c.model?.sharedModel.insertCells(0,u),c.model?.sharedModel.deleteCellRange(u.length,c.model?.sharedModel.cells.length),c.update(),s.NotebookActions.focusActiveCell(c)}}})}}),l.addCommand("toolbar-button:merge-pagebreak",{icon:g,caption:"Merge with Pagebreak Above",execute:()=>{const e=t.currentWidget,n=e?.content;if(!n?.model)return;const a=H(t.activeCell,o.previousSchema);if(a<=0)return;const[s,i,r,l]=R(a,t?.currentWidget?.content,o?.previousSchema),[,,,d]=R(a-1,t?.currentWidget?.content,o?.previousSchema),c=l-r-1;n.model.sharedModel.transact((()=>{n.moveCell(r+1,d,c);for(const e of[s,i]){!e||n.model?.deletedCells.push(e.model.id);const t=d+c+1;n.model?.sharedModel.deleteCell(t)}n.deselectAll()}))},isVisible:()=>!!(i.checkisActive(t)&&(t.activeCell?.model.getMetadata("pagebreak")||t.activeCell?.model.getMetadata("pagebreakheader"))&&H(t.activeCell,o.previousSchema)>0)}),l.addCommand("toolbar-button:run-pagebreak",{icon:d,caption:"Run Entire Pagebreak",execute:()=>{console.log("run pagebreak");const e=t.currentWidget,n=e?.content;if(!n?.model)return;const i=H(n.activeCell,o.previousSchema),r=n.widgets.filter((e=>H(e,o.previousSchema)===i));console.log(r),s.NotebookActions.runCells(n,r,e?.sessionContext,a)},isVisible:()=>{const e=H(t.activeCell,o.previousSchema),[,,n,a]=R(e,t?.currentWidget?.content,o?.previousSchema),s=t.currentWidget?.content.activeCellIndex??-1;return!!(i.checkisActive(t)&&n<=s&&a>=s)}}),l.addCommand("toolbar-button:add-pagebreak",{icon:c,caption:"Make a new Pagebreak",execute:()=>{const o=e.shell.currentWidget.content;if(!o.model)return;const a=o.model,s=!0===t.activeCell?.model.getMetadata("pagebreak")?o.activeCellIndex+1:0;a.sharedModel.insertCell(s,{cell_type:"markdown",metadata:{trusted:!0,pagebreakheader:!0}}),o.activeCellIndex=s,o.activeCell?.model.sharedModel.setSource("# New Pagebreak "),l.execute("notebook:run-cell",{origin:"init"}).catch((e=>{console.error(`An error occurred during the execution of Running pagebreaks Command.\n${e}`)}));const i=o.activeCellIndex+1;a.sharedModel.insertCell(i,{cell_type:"code",metadata:{trusted:!0}}),o.activeCellIndex=i;const r=o.activeCellIndex+1;a.sharedModel.insertCell(r,{cell_type:"raw",metadata:{trusted:!0,pagebreak:!0}}),o.activeCellIndex=r,o.activeCell?.model.sharedModel.setSource("export {  }"),!o.activeCell||o.select(o.activeCell),o.update(),o.activeCell?.update(),n()},isVisible:()=>{const n=i.checkisActive(t),o=t.activeCell?.model.getMetadata("pagebreak")??!1,a=void 0===e.shell.currentWidget?.content?.widgets?.find((e=>e?.model?.getMetadata("pagebreak")));return!(!n||!o&&!a)}})}(e,t,(()=>{oe(e,t,d,c)}),d,o,c,i),setInterval((async()=>{const n=t.currentWidget;if(n?.content.isVisible&&n.isRevealed){oe(e,t,d,c);const{commands:n}=e;n.notifyCommandChanged("toolbar-button:add-pagebreak")}}),1e3);const g=setInterval((async()=>{console.log("Waiting To Reveal...");for(const n of e.shell.widgets())n.isVisible&&n instanceof s.NotebookPanel&&(oe(e,t,d,c,!0),n.activate(),n.content.activate(),n.node.click(),n.content.node.click(),n.content.widgets.at(0)?.node.click());console.log("Waiting To Reveal...");const n=t.currentWidget;if(n?.content.isVisible&&n.isRevealed){console.log("Visible and Revealed"),oe(e,t,d,c,!0),n?.sessionContext.connectionStatusChanged.connect(((n,o)=>{console.log("Notebook Connection status:",o),"connected"===o&&oe(e,t,d,c,!0)}));const o=n?.sessionContext?.session?.kernel;o?.connectionStatusChanged.connect((o=>{c.setPluginStatus("unset",n),oe(e,t,d,c,!0)})),n?.sessionContext?.connectionStatusChanged.connect((()=>{c.setPluginStatus("unset",n),oe(e,t,d,c)})),d.addCommandHooks(e,t,c),d.addCellChangeHooks(t,c),clearInterval(g)}}),100);t.currentChanged.connect((()=>{if(t.currentWidget?.isAttached&&t.currentWidget instanceof s.NotebookPanel&&t.currentWidget.content.isVisible&&t.currentWidget.isRevealed){oe(e,t,d,c);const n=t.currentWidget;d.eventHandlers?.switchNotebooks(n),d.switchNotebooks(t,e,c)}})),t.widgetUpdated.connect((()=>{if(t.currentWidget?.revealed.then((()=>{oe(e,t,d,c),console.log("SWITCH NOTEBOOKS");const n=t.currentWidget;null!==n&&(d.eventHandlers?.switchNotebooks(n),d.switchNotebooks(t,e,c))})),t.currentWidget?.isAttached&&t.currentWidget instanceof s.NotebookPanel){oe(e,t,d,c),console.log("SWITCH NOTEBOOKS");const n=t.currentWidget;d.eventHandlers?.switchNotebooks(n),d.switchNotebooks(t,e,c)}})),e.shell.activeChanged.connect((()=>{if(e.shell.currentWidget instanceof s.NotebookPanel){const n=e.shell.currentWidget;n&&n.isRevealed&&oe(e,t,d,c)}})),s.NotebookActions.executionScheduled.connect((()=>{ae(0,t,d,c,!0)}))}},oe=l().throttle(ae,200);function ae(e,t,n,o,a=!1){const s=t.currentWidget;if(null==s)return void console.log("ERROR: notebook was undefined or null!!!");n.eventHandlers||s.content.isAttached&&(n.eventHandlers=new Q(s,n,o)),o.updatePlugin(s),o.updatePluginStatusHeader(s),n.eventHandlers?.update(s);const i=o.checkisActive(t)&&t.currentWidget?.content.isVisible&&t.currentWidget?.isRevealed,r=i?E(s):null;if(i){!function(e){e?.widgets?.forEach(((e,t)=>{(e?.model.getMetadata("pagebreak")||e?.model.getMetadata("pagebreakheader"))&&e?.model.setMetadata("deletable",!1)}))}(s?.content),function(e){e?.widgets?.forEach(((e,t)=>{"raw"===e?.model.sharedModel.cell_type&&"export { }"===e?.model.sharedModel.getSource()?e.model.setMetadata("pagebreak",!0):"markdown"===e?.model.sharedModel.cell_type&&"# New Pagebreak"===e?.model.sharedModel.getSource()&&e?.model.setMetadata("pagebreakheader",!0)}))}(s.content);const e=E(s);!function(e,t){const n=function(e,t){let n=e.length;for(;n--;)if(o=e[n],!0===o?.model.getMetadata("pagebreak"))return n;var o;return-1}(e.widgets);e?.widgets?.forEach(((o,a)=>{const s=!0===o?.model.getMetadata("pagebreakheader")&&"markdown"!==o?.model.sharedModel.cell_type,i=!0===o?.model.getMetadata("pagebreak")&&"raw"!==o?.model.sharedModel.cell_type;if(s||i?o.addClass(T):o.removeClass(T),!s&&!i&&"code"===o?.model.sharedModel.cell_type){const s=H(o,t),[,,i,r]=R(s,e,t);O(o,T,!(a>=i&&a<=r)&&a<n)}}))}(s.content,e),function(e,t){if(t.scopeList[0].find((e=>"pagebreaks_simulated"===e)))return;const n=e?.content?.activeCell?H(e?.content?.activeCell,t):-1;e?.content?.widgets.forEach(((o,a)=>{const s=H(o,t),[,,i,r]=R(s,e.content,t);a>=i&&a<=r?function(e,t,n,o){o?(e.addClass(t),e.removeClass(n)):(e.addClass(n),e.removeClass(t))}(o,"jp-pb-pagebreakEven","jp-pb-pagebreakOdd",s%2==0):(o.removeClass("jp-pb-pagebreakEven"),o.removeClass("jp-pb-pagebreakOdd")),O(o,"jp-pb-pagebreakCodeCell","code"===o.model.type),O(o,"jp-pb-pagebreakCell","raw"===o.model.type&&o.model.getMetadata("pagebreak")),O(o,"jp-pb-header","markdown"===o.model.type&&o.model.getMetadata("pagebreakheader")),O(o,"jp-pb-selectedPagebreak",s===n)}))}(s,e)}else console.log("Pagebreaks is Inactive!");const d=new Date;if(!l().isEqual(n.previousSchema,r)||d.getTime()-n.lastSend.getTime()>100||a){if(!s?.sessionContext||!s?.sessionContext?.session?.kernel)return void console.log("PB: Not sending schema because kernel isn't connected");n.lastSend=d,n.previousSchema=r,function(e,t,n){const o={code:"%%pb_update \n"+t,silent:!0,store_history:!1},a=e?.sessionContext?.session?.kernel;if(!a)throw new Error("Session has no kernel.");if(null===n.future||n.future.isDisposed){console.log("sending Schema");const e=a.requestExecute(o);e.onIOPub=e=>{"status"!==e.header.msg_type&&console.log("sendSchema",e)},n.future=e}}(s,null===r?JSON.stringify({inactive:!0}):JSON.stringify(r),n)}}const se=ne},475:(e,t,n)=>{n.d(t,{A:()=>r});var o=n(601),a=n.n(o),s=n(314),i=n.n(s)()(a());i.push([e.id,"/*\n    See the JupyterLab Developer Guide for useful CSS Patterns:\n\n    https://jupyterlab.readthedocs.io/en/stable/developer/css.html\n*/\n/* stylelint-disable-next-line selector-class-pattern */\n.jp-ToolbarButtonComponent.lm-mod-hidden {\n  display: none;\n}\n\n.jp-Cell.jp-Notebook-cell:not(.jp-pb-selectedPagebreak) {\n  opacity: 0.8;\n}\n\n.jp-Notebook .jp-Cell.jp-CodeCell.jp-Notebook-cell.jp-pb-pagebreakCodeCell {\n  /* position: relative;\n    left: 50px; */\n  margin-left: 50px;\n}\n\n.jp-Notebook.jp-mod-commandMode\n  .jp-Cell.jp-Notebook-cell.jp-mod-active.jp-mod-selected:not(\n    .jp-mod-multiSelected\n  ) {\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.lm-Widget .jp-Notebook .jp-Cell.jp-Notebook-cell {\n  margin-left: 50px;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255 / 70%);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93 / 70%);\n  }\n}\n\n/* stylelint-disable-next-line no-descending-specificity */\n.jp-Notebook .jp-Cell.jp-RawCell.jp-Notebook-cell.jp-pb-pagebreakCell {\n  margin-left: 0;\n  position: relative;\n  margin-bottom: 15px;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.jp-Notebook .jp-Cell.jp-MarkdownCell.jp-Notebook-cell.jp-pb-header {\n  margin-top: 0;\n  margin-left: 0;\n\n  &.jp-pb-pagebreakEven {\n    background: rgb(42 194 255);\n  }\n\n  &.jp-pb-pagebreakOdd {\n    background: rgb(70 194 93);\n  }\n}\n\n.lm-Widget.jp-Notebook-footer {\n  margin-top: 0;\n}\n\n.jp-Notebook-cell.jp-mod-dropTarget-bottom,\n.jp-Notebook.jp-mod-commandMode\n  .jp-Notebook-cell.jp-mod-active.jp-mod-selected.jp-mod-dropTarget-bottom {\n  border-bottom-color: var(--jp-private-notebook-selected-color);\n  border-bottom-style: solid;\n  /* stylelint-disable-next-line declaration-block-no-redundant-longhand-properties */\n  border-bottom-width: 2px;\n  margin-bottom: 0;\n}\n\n/* .jp-pb-variableList {\n  :hover {\n    background: var(--jp-layout-color1);\n  }\n} */\n.jp-pb-badFormatting {\n  background: var(--jp-rendermime-error-background) !important;\n}\n\n.jp-pb-pluginstatus-header {\n  background: var(--jp-rendermime-error-background);\n  text-align: center;\n  padding: 5px 0;\n  min-height: 40px;\n}\n\n.jp-pb-pluginstatus-maintext {\n  color: var(--jp-error-color0);\n  font-weight: bold;\n}\n\n.jp-pb-pluginstatus-bottomtext {\n  color: var(--jp-content-font-color2);\n}\n\n.jp-pb-poorly-formed-export {\n  color: var(--jp-error-color0);\n  text-decoration-line: underline;\n  text-decoration-thickness: auto;\n  text-decoration-style: wavy;\n}\n\n.jp-pb-poorly-formed-export ::before {\n  content: '';\n}\n\n.jp-pb-poorly-formed-export-hover ::before {\n  content: 'Export Statement Poorly Formed, should look like:\\A \"export { var1 var2 var3 }\"';\n  visibility: hidden;\n  opacity: 0;\n  width: 40%;\n  background-color: var(--jp-layout-color1);\n  color: var(--jp-content-font-color0);\n  text-align: left;\n  border-radius: 5px;\n  padding: 5px;\n  white-space: pre-line;\n  border-color: var(--md-grey-700);\n\n  /* font-family: var(--jp-code-font-family-default); */\n  transition: opacity 1s ease-in-out;\n  position: absolute;\n  z-index: 1;\n  left: 0;\n  top: 110%;\n}\n\n.jp-pb-poorly-formed-export-hover :hover::before {\n  opacity: 1;\n  visibility: visible;\n}\n",""]);const r=i},646:(e,t,n)=>{n.d(t,{A:()=>d});var o=n(601),a=n.n(o),s=n(314),i=n.n(s),r=n(475),l=i()(a());l.i(r.A),l.push([e.id,"\n",""]);const d=l},314:e=>{e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n="",o=void 0!==t[5];return t[4]&&(n+="@supports (".concat(t[4],") {")),t[2]&&(n+="@media ".concat(t[2]," {")),o&&(n+="@layer".concat(t[5].length>0?" ".concat(t[5]):""," {")),n+=e(t),o&&(n+="}"),t[2]&&(n+="}"),t[4]&&(n+="}"),n})).join("")},t.i=function(e,n,o,a,s){"string"==typeof e&&(e=[[null,e,void 0]]);var i={};if(o)for(var r=0;r<this.length;r++){var l=this[r][0];null!=l&&(i[l]=!0)}for(var d=0;d<e.length;d++){var c=[].concat(e[d]);o&&i[c[0]]||(void 0!==s&&(void 0===c[5]||(c[1]="@layer".concat(c[5].length>0?" ".concat(c[5]):""," {").concat(c[1],"}")),c[5]=s),n&&(c[2]?(c[1]="@media ".concat(c[2]," {").concat(c[1],"}"),c[2]=n):c[2]=n),a&&(c[4]?(c[1]="@supports (".concat(c[4],") {").concat(c[1],"}"),c[4]=a):c[4]="".concat(a)),t.push(c))}},t}},601:e=>{e.exports=function(e){return e[1]}},72:e=>{var t=[];function n(e){for(var n=-1,o=0;o<t.length;o++)if(t[o].identifier===e){n=o;break}return n}function o(e,o){for(var s={},i=[],r=0;r<e.length;r++){var l=e[r],d=o.base?l[0]+o.base:l[0],c=s[d]||0,g="".concat(d," ").concat(c);s[d]=c+1;var u=n(g),p={css:l[1],media:l[2],sourceMap:l[3],supports:l[4],layer:l[5]};if(-1!==u)t[u].references++,t[u].updater(p);else{var m=a(p,o);o.byIndex=r,t.splice(r,0,{identifier:g,updater:m,references:1})}i.push(g)}return i}function a(e,t){var n=t.domAPI(t);return n.update(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap&&t.supports===e.supports&&t.layer===e.layer)return;n.update(e=t)}else n.remove()}}e.exports=function(e,a){var s=o(e=e||[],a=a||{});return function(e){e=e||[];for(var i=0;i<s.length;i++){var r=n(s[i]);t[r].references--}for(var l=o(e,a),d=0;d<s.length;d++){var c=n(s[d]);0===t[c].references&&(t[c].updater(),t.splice(c,1))}s=l}}},659:e=>{var t={};e.exports=function(e,n){var o=function(e){if(void 0===t[e]){var n=document.querySelector(e);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}(e);if(!o)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");o.appendChild(n)}},540:e=>{e.exports=function(e){var t=document.createElement("style");return e.setAttributes(t,e.attributes),e.insert(t,e.options),t}},56:(e,t,n)=>{e.exports=function(e){var t=n.nc;t&&e.setAttribute("nonce",t)}},825:e=>{e.exports=function(e){if("undefined"==typeof document)return{update:function(){},remove:function(){}};var t=e.insertStyleElement(e);return{update:function(n){!function(e,t,n){var o="";n.supports&&(o+="@supports (".concat(n.supports,") {")),n.media&&(o+="@media ".concat(n.media," {"));var a=void 0!==n.layer;a&&(o+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),o+=n.css,a&&(o+="}"),n.media&&(o+="}"),n.supports&&(o+="}");var s=n.sourceMap;s&&"undefined"!=typeof btoa&&(o+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(s))))," */")),t.styleTagTransform(o,e,t.options)}(t,e,n)},remove:function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(t)}}}},113:e=>{e.exports=function(e,t){if(t.styleSheet)t.styleSheet.cssText=e;else{for(;t.firstChild;)t.removeChild(t.firstChild);t.appendChild(document.createTextNode(e))}}}}]);