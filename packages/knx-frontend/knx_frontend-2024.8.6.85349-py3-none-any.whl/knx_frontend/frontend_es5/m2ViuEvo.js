"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[7751,3920],{80920:function(e,n,t){var r,o,i=t(6238),a=t(36683),l=t(89231),s=t(29864),c=t(83647),d=t(8364),u=t(27526),g=(t(77052),t(650),t(68113),t(58177),t(42416),t(66274),t(84531),t(34290),t(27350),t(98597)),h=t(196),v=t(10),f=t(22994);(0,d.A)([(0,h.EM)("ha-button-menu")],(function(e,n){var t=function(n){function t(){var n;(0,l.A)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,s.A)(this,t,[].concat(o)),e(n),n}return(0,c.A)(t,n),(0,a.A)(t)}(n);return{F:t,d:[{kind:"field",key:f.Xr,value:void 0},{kind:"field",decorators:[(0,h.MZ)()],key:"corner",value:function(){return"BOTTOM_START"}},{kind:"field",decorators:[(0,h.MZ)()],key:"menuCorner",value:function(){return"START"}},{kind:"field",decorators:[(0,h.MZ)({type:Number})],key:"x",value:function(){return null}},{kind:"field",decorators:[(0,h.MZ)({type:Number})],key:"y",value:function(){return null}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean})],key:"multi",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean})],key:"activatable",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean})],key:"disabled",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean})],key:"fixed",value:function(){return!1}},{kind:"field",decorators:[(0,h.MZ)({type:Boolean,attribute:"no-anchor"})],key:"noAnchor",value:function(){return!1}},{kind:"field",decorators:[(0,h.P)("mwc-menu",!0)],key:"_menu",value:void 0},{kind:"get",key:"items",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.items}},{kind:"get",key:"selected",value:function(){var e;return null===(e=this._menu)||void 0===e?void 0:e.selected}},{kind:"method",key:"focus",value:function(){var e,n;null!==(e=this._menu)&&void 0!==e&&e.open?this._menu.focusItemAtIndex(0):null===(n=this._triggerButton)||void 0===n||n.focus()}},{kind:"method",key:"render",value:function(){return(0,g.qy)(r||(r=(0,i.A)(["\n      <div @click=",'>\n        <slot name="trigger" @slotchange=',"></slot>\n      </div>\n      <mwc-menu\n        .corner=","\n        .menuCorner=","\n        .fixed=","\n        .multi=","\n        .activatable=","\n        .y=","\n        .x=","\n      >\n        <slot></slot>\n      </mwc-menu>\n    "])),this._handleClick,this._setTriggerAria,this.corner,this.menuCorner,this.fixed,this.multi,this.activatable,this.y,this.x)}},{kind:"method",key:"firstUpdated",value:function(e){var n=this;(0,u.A)(t,"firstUpdated",this,3)([e]),"rtl"===v.G.document.dir&&this.updateComplete.then((function(){n.querySelectorAll("mwc-list-item").forEach((function(e){var n=document.createElement("style");n.innerHTML="span.material-icons:first-of-type { margin-left: var(--mdc-list-item-graphic-margin, 32px) !important; margin-right: 0px !important;}",e.shadowRoot.appendChild(n)}))}))}},{kind:"method",key:"_handleClick",value:function(){this.disabled||(this._menu.anchor=this.noAnchor?null:this,this._menu.show())}},{kind:"get",key:"_triggerButton",value:function(){return this.querySelector('ha-icon-button[slot="trigger"], mwc-button[slot="trigger"]')}},{kind:"method",key:"_setTriggerAria",value:function(){this._triggerButton&&(this._triggerButton.ariaHasPopup="menu")}},{kind:"get",static:!0,key:"styles",value:function(){return(0,g.AH)(o||(o=(0,i.A)(["\n      :host {\n        display: inline-block;\n        position: relative;\n      }\n      ::slotted([disabled]) {\n        color: var(--disabled-text-color);\n      }\n    "])))}}]}}),g.WF)},33920:function(e,n,t){t.r(n),t.d(n,{HaIconOverflowMenu:function(){return _}});var r,o,i,a,l,s,c,d,u,g=t(6238),h=t(36683),v=t(89231),f=t(29864),p=t(83647),k=t(8364),m=(t(77052),t(36724),t(98168),t(87777),t(98597)),y=t(196),b=t(69760),A=t(43799),_=(t(80920),t(89874),t(9484),t(29222),(0,k.A)([(0,y.EM)("ha-icon-overflow-menu")],(function(e,n){var t=function(n){function t(){var n;(0,v.A)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,f.A)(this,t,[].concat(o)),e(n),n}return(0,p.A)(t,n),(0,h.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,y.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,y.MZ)({type:Array})],key:"items",value:function(){return[]}},{kind:"field",decorators:[(0,y.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"method",key:"render",value:function(){return(0,m.qy)(r||(r=(0,g.A)(["\n      ","\n    "])),this.narrow?(0,m.qy)(o||(o=(0,g.A)([" \x3c!-- Collapsed representation for small screens --\x3e\n            <ha-button-menu\n              @click=","\n              @closed=",'\n              class="ha-icon-overflow-menu-overflow"\n              absolute\n            >\n              <ha-icon-button\n                .label=',"\n                .path=",'\n                slot="trigger"\n              ></ha-icon-button>\n\n              ',"\n            </ha-button-menu>"])),this._handleIconOverflowMenuOpened,this._handleIconOverflowMenuClosed,this.hass.localize("ui.common.overflow_menu"),"M12,16A2,2 0 0,1 14,18A2,2 0 0,1 12,20A2,2 0 0,1 10,18A2,2 0 0,1 12,16M12,10A2,2 0 0,1 14,12A2,2 0 0,1 12,14A2,2 0 0,1 10,12A2,2 0 0,1 12,10M12,4A2,2 0 0,1 14,6A2,2 0 0,1 12,8A2,2 0 0,1 10,6A2,2 0 0,1 12,4Z",this.items.map((function(e){return e.divider?(0,m.qy)(i||(i=(0,g.A)(['<li divider role="separator"></li>']))):(0,m.qy)(a||(a=(0,g.A)(['<ha-list-item\n                      graphic="icon"\n                      ?disabled=',"\n                      @click=","\n                      class=",'\n                    >\n                      <div slot="graphic">\n                        <ha-svg-icon\n                          class=',"\n                          .path=","\n                        ></ha-svg-icon>\n                      </div>\n                      ","\n                    </ha-list-item> "])),e.disabled,e.action,(0,b.H)({warning:Boolean(e.warning)}),(0,b.H)({warning:Boolean(e.warning)}),e.path,e.label)}))):(0,m.qy)(l||(l=(0,g.A)(["\n            \x3c!-- Icon representation for big screens --\x3e\n            ","\n          "])),this.items.map((function(e){return e.narrowOnly?"":e.divider?(0,m.qy)(s||(s=(0,g.A)(['<div role="separator"></div>']))):(0,m.qy)(c||(c=(0,g.A)(["<div>\n                      ","\n                      <ha-icon-button\n                        @click=","\n                        .label=","\n                        .path=","\n                        ?disabled=","\n                      ></ha-icon-button>\n                    </div> "])),e.tooltip?(0,m.qy)(d||(d=(0,g.A)(['<simple-tooltip\n                            animation-delay="0"\n                            position="left"\n                          >\n                            ',"\n                          </simple-tooltip>"])),e.tooltip):"",e.action,e.label,e.path,e.disabled)}))))}},{kind:"method",key:"_handleIconOverflowMenuOpened",value:function(e){e.stopPropagation();var n=this.closest(".mdc-data-table__row");n&&(n.style.zIndex="1")}},{kind:"method",key:"_handleIconOverflowMenuClosed",value:function(){var e=this.closest(".mdc-data-table__row");e&&(e.style.zIndex="")}},{kind:"get",static:!0,key:"styles",value:function(){return[A.RF,(0,m.AH)(u||(u=(0,g.A)(['\n        :host {\n          display: flex;\n          justify-content: flex-end;\n        }\n        li[role="separator"] {\n          border-bottom-color: var(--divider-color);\n        }\n        div[role="separator"] {\n          border-right: 1px solid var(--divider-color);\n          width: 1px;\n        }\n        ha-list-item[disabled] ha-svg-icon {\n          color: var(--disabled-text-color);\n        }\n      '])))]}}]}}),m.WF))},92518:function(e,n,t){t.d(n,{A:function(){return o}});var r=t(67234);t(36724),t(1158),t(68113),t(58971),t(66274),t(84531),t(98168),t(34290);function o(e){if(!e||"object"!=(0,r.A)(e))return e;if("[object Date]"==Object.prototype.toString.call(e))return new Date(e.getTime());if(Array.isArray(e))return e.map(o);var n={};return Object.keys(e).forEach((function(t){n[t]=o(e[t])})),n}},60309:function(e,n,t){var r,o,i,a,l,s,c=t(6238),d=t(22481),u=t(36683),g=t(89231),h=t(29864),v=t(83647),f=t(8364),p=t(27526),k=(t(77052),t(36724),t(19954),t(848),t(21968),t(1158),t(68113),t(84368),t(66274),t(84531),t(98168),t(91078),t(34290),t(98597)),m=t(196),y=t(69760),b=t(33167),A=new(t(61328).Q)("knx-project-tree-view");(0,f.A)([(0,m.EM)("knx-project-tree-view")],(function(e,n){var t=function(n){function t(){var n;(0,g.A)(this,t);for(var r=arguments.length,o=new Array(r),i=0;i<r;i++)o[i]=arguments[i];return n=(0,h.A)(this,t,[].concat(o)),e(n),n}return(0,v.A)(t,n),(0,u.A)(t)}(n);return{F:t,d:[{kind:"field",decorators:[(0,m.MZ)({attribute:!1})],key:"data",value:void 0},{kind:"field",decorators:[(0,m.MZ)({attribute:!1})],key:"multiselect",value:function(){return!1}},{kind:"field",decorators:[(0,m.wk)()],key:"_selectableRanges",value:function(){return{}}},{kind:"method",key:"connectedCallback",value:function(){var e=this;(0,p.A)(t,"connectedCallback",this,3)([]);var n=function(t){Object.entries(t).forEach((function(t){var r=(0,d.A)(t,2),o=r[0],i=r[1];i.group_addresses.length>0&&(e._selectableRanges[o]={selected:!1,groupAddresses:i.group_addresses}),n(i.group_ranges)}))};n(this.data.group_ranges),A.debug("ranges",this._selectableRanges)}},{kind:"method",key:"render",value:function(){return(0,k.qy)(r||(r=(0,c.A)(['<div class="ha-tree-view">',"</div>"])),this._recurseData(this.data.group_ranges))}},{kind:"method",key:"_recurseData",value:function(e){var n=this,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,r=Object.entries(e).map((function(e){var r=(0,d.A)(e,2),l=r[0],s=r[1],u=Object.keys(s.group_ranges).length>0;if(!(u||s.group_addresses.length>0))return k.s6;var g=l in n._selectableRanges,h=!!g&&n._selectableRanges[l].selected,v={"range-item":!0,"root-range":0===t,"sub-range":t>0,selectable:g,"selected-range":h,"non-selected-range":g&&!h},f=(0,k.qy)(o||(o=(0,c.A)(["<div\n        class=","\n        toggle-range=","\n        @click=",'\n      >\n        <span class="range-key">','</span>\n        <span class="range-text">',"</span>\n      </div>"])),(0,y.H)(v),g?l:k.s6,g?n.multiselect?n._selectionChangedMulti:n._selectionChangedSingle:k.s6,l,s.name);if(u){var p={"root-group":0===t,"sub-group":0!==t};return(0,k.qy)(i||(i=(0,c.A)(["<div class=",">\n          "," ","\n        </div>"])),(0,y.H)(p),f,n._recurseData(s.group_ranges,t+1))}return(0,k.qy)(a||(a=(0,c.A)(["",""])),f)}));return(0,k.qy)(l||(l=(0,c.A)(["",""])),r)}},{kind:"method",key:"_selectionChangedMulti",value:function(e){var n=e.target.getAttribute("toggle-range");this._selectableRanges[n].selected=!this._selectableRanges[n].selected,this._selectionUpdate(),this.requestUpdate()}},{kind:"method",key:"_selectionChangedSingle",value:function(e){var n=e.target.getAttribute("toggle-range"),t=this._selectableRanges[n].selected;Object.values(this._selectableRanges).forEach((function(e){e.selected=!1})),this._selectableRanges[n].selected=!t,this._selectionUpdate(),this.requestUpdate()}},{kind:"method",key:"_selectionUpdate",value:function(){var e=Object.values(this._selectableRanges).reduce((function(e,n){return n.selected?e.concat(n.groupAddresses):e}),[]);A.debug("selection changed",e),(0,b.r)(this,"knx-group-range-selection-changed",{groupAddresses:e})}},{kind:"get",static:!0,key:"styles",value:function(){return(0,k.AH)(s||(s=(0,c.A)(["\n      :host {\n        margin: 0;\n        height: 100%;\n        overflow-y: scroll;\n        overflow-x: hidden;\n        background-color: var(--card-background-color);\n      }\n\n      .ha-tree-view {\n        cursor: default;\n      }\n\n      .root-group {\n        margin-bottom: 8px;\n      }\n\n      .root-group > * {\n        padding-top: 5px;\n        padding-bottom: 5px;\n      }\n\n      .range-item {\n        display: block;\n        overflow: hidden;\n        white-space: nowrap;\n        text-overflow: ellipsis;\n        font-size: 0.875rem;\n      }\n\n      .range-item > * {\n        vertical-align: middle;\n        pointer-events: none;\n      }\n\n      .range-key {\n        color: var(--text-primary-color);\n        font-size: 0.75rem;\n        font-weight: 700;\n        background-color: var(--label-badge-grey);\n        border-radius: 4px;\n        padding: 1px 4px;\n        margin-right: 2px;\n      }\n\n      .root-range {\n        padding-left: 8px;\n        font-weight: 500;\n        background-color: var(--secondary-background-color);\n\n        & .range-key {\n          color: var(--primary-text-color);\n          background-color: var(--card-background-color);\n        }\n      }\n\n      .sub-range {\n        padding-left: 13px;\n      }\n\n      .selectable {\n        cursor: pointer;\n      }\n\n      .selectable:hover {\n        background-color: rgba(var(--rgb-primary-text-color), 0.04);\n      }\n\n      .selected-range {\n        background-color: rgba(var(--rgb-primary-color), 0.12);\n\n        & .range-key {\n          background-color: var(--primary-color);\n        }\n      }\n\n      .selected-range:hover {\n        background-color: rgba(var(--rgb-primary-color), 0.07);\n      }\n\n      .non-selected-range {\n        background-color: var(--card-background-color);\n      }\n    "])))}}]}}),k.WF)}}]);