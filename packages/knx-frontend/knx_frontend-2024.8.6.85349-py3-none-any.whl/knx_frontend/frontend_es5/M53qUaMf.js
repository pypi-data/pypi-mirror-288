"use strict";(self.webpackChunkknx_frontend=self.webpackChunkknx_frontend||[]).push([[7621],{32872:function(n,e,t){t.d(e,{x:function(){return r}});t(53501),t(34517);var r=function(n,e){return n&&n.config.components.includes(e)}},94392:function(n,e,t){var r,i,a,o=t(6238),s=t(36683),d=t(89231),c=t(29864),l=t(83647),u=t(8364),p=(t(77052),t(98597)),h=t(196);(0,u.A)([(0,h.EM)("ha-card")],(function(n,e){var t=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=(0,c.A)(this,t,[].concat(i)),n(e),e}return(0,l.A)(t,e),(0,s.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,h.MZ)()],key:"header",value:void 0},{kind:"field",decorators:[(0,h.MZ)({type:Boolean,reflect:!0})],key:"raised",value:function(){return!1}},{kind:"get",static:!0,key:"styles",value:function(){return(0,p.AH)(r||(r=(0,o.A)(["\n      :host {\n        background: var(\n          --ha-card-background,\n          var(--card-background-color, white)\n        );\n        -webkit-backdrop-filter: var(--ha-card-backdrop-filter, none);\n        backdrop-filter: var(--ha-card-backdrop-filter, none);\n        box-shadow: var(--ha-card-box-shadow, none);\n        box-sizing: border-box;\n        border-radius: var(--ha-card-border-radius, 12px);\n        border-width: var(--ha-card-border-width, 1px);\n        border-style: solid;\n        border-color: var(\n          --ha-card-border-color,\n          var(--divider-color, #e0e0e0)\n        );\n        color: var(--primary-text-color);\n        display: block;\n        transition: all 0.3s ease-out;\n        position: relative;\n      }\n\n      :host([raised]) {\n        border: none;\n        box-shadow: var(\n          --ha-card-box-shadow,\n          0px 2px 1px -1px rgba(0, 0, 0, 0.2),\n          0px 1px 1px 0px rgba(0, 0, 0, 0.14),\n          0px 1px 3px 0px rgba(0, 0, 0, 0.12)\n        );\n      }\n\n      .card-header,\n      :host ::slotted(.card-header) {\n        color: var(--ha-card-header-color, --primary-text-color);\n        font-family: var(--ha-card-header-font-family, inherit);\n        font-size: var(--ha-card-header-font-size, 24px);\n        letter-spacing: -0.012em;\n        line-height: 48px;\n        padding: 12px 16px 16px;\n        display: block;\n        margin-block-start: 0px;\n        margin-block-end: 0px;\n        font-weight: normal;\n      }\n\n      :host ::slotted(.card-content:not(:first-child)),\n      slot:not(:first-child)::slotted(.card-content) {\n        padding-top: 0px;\n        margin-top: -8px;\n      }\n\n      :host ::slotted(.card-content) {\n        padding: 16px;\n      }\n\n      :host ::slotted(.card-actions) {\n        border-top: 1px solid var(--divider-color, #e8e8e8);\n        padding: 5px 16px;\n      }\n    "])))}},{kind:"method",key:"render",value:function(){return(0,p.qy)(i||(i=(0,o.A)(["\n      ","\n      <slot></slot>\n    "])),this.header?(0,p.qy)(a||(a=(0,o.A)(['<h1 class="card-header">',"</h1>"])),this.header):p.s6)}}]}}),p.WF)},73279:function(n,e,t){var r,i=t(6238),a=t(95803),o=t(36683),s=t(89231),d=t(29864),c=t(83647),l=t(8364),u=t(27526),p=(t(77052),t(57305)),h=t(98597),v=t(196);(0,l.A)([(0,v.EM)("ha-circular-progress")],(function(n,e){var t=function(e){function t(){var e;(0,s.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=(0,d.A)(this,t,[].concat(i)),n(e),e}return(0,c.A)(t,e),(0,o.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,v.MZ)({attribute:"aria-label",type:String})],key:"ariaLabel",value:function(){return"Loading"}},{kind:"field",decorators:[(0,v.MZ)()],key:"size",value:function(){return"medium"}},{kind:"method",key:"updated",value:function(n){if((0,u.A)(t,"updated",this,3)([n]),n.has("size"))switch(this.size){case"tiny":this.style.setProperty("--md-circular-progress-size","16px");break;case"small":this.style.setProperty("--md-circular-progress-size","28px");break;case"medium":this.style.setProperty("--md-circular-progress-size","48px");break;case"large":this.style.setProperty("--md-circular-progress-size","68px")}}},{kind:"field",static:!0,key:"styles",value:function(){return[].concat((0,a.A)((0,u.A)(t,"styles",this)),[(0,h.AH)(r||(r=(0,i.A)(["\n      :host {\n        --md-sys-color-primary: var(--primary-color);\n        --md-circular-progress-size: 48px;\n      }\n    "])))])}}]}}),p.U)},9484:function(n,e,t){var r,i,a,o=t(6238),s=t(36683),d=t(89231),c=t(29864),l=t(83647),u=t(8364),p=t(27526),h=(t(77052),t(46175)),v=t(45592),f=t(98597),g=t(196);(0,u.A)([(0,g.EM)("ha-list-item")],(function(n,e){var t=function(e){function t(){var e;(0,d.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=(0,c.A)(this,t,[].concat(i)),n(e),e}return(0,l.A)(t,e),(0,s.A)(t)}(e);return{F:t,d:[{kind:"method",key:"renderRipple",value:function(){return this.noninteractive?"":(0,p.A)(t,"renderRipple",this,3)([])}},{kind:"get",static:!0,key:"styles",value:function(){return[v.R,(0,f.AH)(r||(r=(0,o.A)(['\n        :host {\n          padding-left: var(\n            --mdc-list-side-padding-left,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-inline-start: var(\n            --mdc-list-side-padding-left,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-right: var(\n            --mdc-list-side-padding-right,\n            var(--mdc-list-side-padding, 20px)\n          );\n          padding-inline-end: var(\n            --mdc-list-side-padding-right,\n            var(--mdc-list-side-padding, 20px)\n          );\n        }\n        :host([graphic="avatar"]:not([twoLine])),\n        :host([graphic="icon"]:not([twoLine])) {\n          height: 48px;\n        }\n        span.material-icons:first-of-type {\n          margin-inline-start: 0px !important;\n          margin-inline-end: var(\n            --mdc-list-item-graphic-margin,\n            16px\n          ) !important;\n          direction: var(--direction) !important;\n        }\n        span.material-icons:last-of-type {\n          margin-inline-start: auto !important;\n          margin-inline-end: 0px !important;\n          direction: var(--direction) !important;\n        }\n        .mdc-deprecated-list-item__meta {\n          display: var(--mdc-list-item-meta-display);\n          align-items: center;\n          flex-shrink: 0;\n        }\n        :host([graphic="icon"]:not([twoline]))\n          .mdc-deprecated-list-item__graphic {\n          margin-inline-end: var(\n            --mdc-list-item-graphic-margin,\n            20px\n          ) !important;\n        }\n        :host([multiline-secondary]) {\n          height: auto;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__text {\n          padding: 8px 0;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__secondary-text {\n          text-overflow: initial;\n          white-space: normal;\n          overflow: auto;\n          display: inline-block;\n          margin-top: 10px;\n        }\n        :host([multiline-secondary]) .mdc-deprecated-list-item__primary-text {\n          margin-top: 10px;\n        }\n        :host([multiline-secondary])\n          .mdc-deprecated-list-item__secondary-text::before {\n          display: none;\n        }\n        :host([multiline-secondary])\n          .mdc-deprecated-list-item__primary-text::before {\n          display: none;\n        }\n        :host([disabled]) {\n          color: var(--disabled-text-color);\n        }\n        :host([noninteractive]) {\n          pointer-events: unset;\n        }\n      ']))),"rtl"===document.dir?(0,f.AH)(i||(i=(0,o.A)(["\n            span.material-icons:first-of-type,\n            span.material-icons:last-of-type {\n              direction: rtl !important;\n              --direction: rtl;\n            }\n          "]))):(0,f.AH)(a||(a=(0,o.A)([""])))]}}]}}),h.J)},61424:function(n,e,t){t.r(e);var r,i,a,o,s,d,c=t(6238),l=t(36683),u=t(89231),p=t(29864),h=t(83647),v=t(8364),f=(t(77052),t(98597)),g=t(196),x=(t(73279),t(92312),t(32010),t(43799));(0,v.A)([(0,g.EM)("hass-loading-screen")],(function(n,e){var t=function(e){function t(){var e;(0,u.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=(0,p.A)(this,t,[].concat(i)),n(e),e}return(0,h.A)(t,e),(0,l.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,g.MZ)({attribute:!1})],key:"hass",value:void 0},{kind:"field",decorators:[(0,g.MZ)({type:Boolean,attribute:"no-toolbar"})],key:"noToolbar",value:function(){return!1}},{kind:"field",decorators:[(0,g.MZ)({type:Boolean})],key:"rootnav",value:function(){return!1}},{kind:"field",decorators:[(0,g.MZ)({type:Boolean})],key:"narrow",value:function(){return!1}},{kind:"field",decorators:[(0,g.MZ)()],key:"message",value:void 0},{kind:"method",key:"render",value:function(){var n;return(0,f.qy)(r||(r=(0,c.A)(["\n      ",'\n      <div class="content">\n        <ha-circular-progress indeterminate></ha-circular-progress>\n        ',"\n      </div>\n    "])),this.noToolbar?"":(0,f.qy)(i||(i=(0,c.A)(['<div class="toolbar">\n            ',"\n          </div>"])),this.rootnav||null!==(n=history.state)&&void 0!==n&&n.root?(0,f.qy)(a||(a=(0,c.A)(["\n                  <ha-menu-button\n                    .hass=","\n                    .narrow=","\n                  ></ha-menu-button>\n                "])),this.hass,this.narrow):(0,f.qy)(o||(o=(0,c.A)(["\n                  <ha-icon-button-arrow-prev\n                    .hass=","\n                    @click=","\n                  ></ha-icon-button-arrow-prev>\n                "])),this.hass,this._handleBack)),this.message?(0,f.qy)(s||(s=(0,c.A)(['<div id="loading-text">',"</div>"])),this.message):f.s6)}},{kind:"method",key:"_handleBack",value:function(){history.back()}},{kind:"get",static:!0,key:"styles",value:function(){return[x.RF,(0,f.AH)(d||(d=(0,c.A)(["\n        :host {\n          display: block;\n          height: 100%;\n          background-color: var(--primary-background-color);\n        }\n        .toolbar {\n          display: flex;\n          align-items: center;\n          font-size: 20px;\n          height: var(--header-height);\n          padding: 8px 12px;\n          pointer-events: none;\n          background-color: var(--app-header-background-color);\n          font-weight: 400;\n          color: var(--app-header-text-color, white);\n          border-bottom: var(--app-header-border-bottom, none);\n          box-sizing: border-box;\n        }\n        @media (max-width: 599px) {\n          .toolbar {\n            padding: 4px;\n          }\n        }\n        ha-menu-button,\n        ha-icon-button-arrow-prev {\n          pointer-events: auto;\n        }\n        .content {\n          height: calc(100% - var(--header-height));\n          display: flex;\n          flex-direction: column;\n          align-items: center;\n          justify-content: center;\n        }\n        #loading-text {\n          max-width: 350px;\n          margin-top: 16px;\n        }\n      "])))]}}]}}),f.WF)},62685:function(n,e,t){t.r(e),t.d(e,{KNXProjectView:function(){return B}});var r,i,a,o,s,d,c,l,u,p=t(22481),h=t(6238),v=t(36683),f=t(89231),g=t(29864),x=t(83647),m=t(8364),k=(t(77052),t(53501),t(71936),t(19954),t(21968),t(68113),t(84368),t(58971),t(34517),t(42566),t(24104),t(66274),t(91078),t(98597)),b=t(196),y=t(45081),w=t(13314),A=(t(61424),t(7341),t(94392),t(89874),t(33920),t(65206),t(60309),t(67234)),_=(t(27934),t(75658),t(53156),t(1158),t(43618),t(26777),t(47711),/^[v^~<>=]*?(\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+)(?:\.([x*]|\d+))?(?:-([\da-z\-]+(?:\.[\da-z\-]+)*))?(?:\+[\da-z\-]+(?:\.[\da-z\-]+)*)?)?)?$/i),j=function(n){if("string"!=typeof n)throw new TypeError("Invalid argument expected string");var e=n.match(_);if(!e)throw new Error("Invalid argument not valid semver ('".concat(n,"' received)"));return e.shift(),e},M=function(n){return"*"===n||"x"===n||"X"===n},z=function(n){var e=parseInt(n,10);return isNaN(e)?n:e},H=function(n,e){if(M(n)||M(e))return 0;var t=function(n,e){return(0,A.A)(n)!==(0,A.A)(e)?[String(n),String(e)]:[n,e]}(z(n),z(e)),r=(0,p.A)(t,2),i=r[0],a=r[1];return i>a?1:i<a?-1:0},Z=function(n,e){for(var t=0;t<Math.max(n.length,e.length);t++){var r=H(n[t]||"0",e[t]||"0");if(0!==r)return r}return 0},q=function(n,e,t){V(t);var r=function(n,e){var t=j(n),r=j(e),i=t.pop(),a=r.pop(),o=Z(t,r);return 0!==o?o:i&&a?Z(i.split("."),a.split(".")):i||a?i?-1:1:0}(n,e);return R[t].includes(r)},R={">":[1],">=":[0,1],"=":[0],"<=":[-1,0],"<":[-1],"!=":[-1,1]},S=Object.keys(R),V=function(n){if("string"!=typeof n)throw new TypeError("Invalid operator type, expected string but got ".concat((0,A.A)(n)));if(-1===S.indexOf(n))throw new Error("Invalid operator, expected one of ".concat(S.join("|")))},F=t(61328),E=new F.Q("knx-project-view"),B=(0,m.A)([(0,b.EM)("knx-project-view")],(function(n,e){var t=function(e){function t(){var e;(0,f.A)(this,t);for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];return e=(0,g.A)(this,t,[].concat(i)),n(e),e}return(0,x.A)(t,e),(0,v.A)(t)}(e);return{F:t,d:[{kind:"field",decorators:[(0,b.MZ)({type:Object})],key:"hass",value:void 0},{kind:"field",decorators:[(0,b.MZ)({attribute:!1})],key:"knx",value:void 0},{kind:"field",decorators:[(0,b.MZ)({type:Boolean,reflect:!0})],key:"narrow",value:void 0},{kind:"field",decorators:[(0,b.MZ)({type:Object})],key:"route",value:void 0},{kind:"field",decorators:[(0,b.MZ)({type:Array,reflect:!1})],key:"tabs",value:void 0},{kind:"field",decorators:[(0,b.MZ)({type:Boolean,reflect:!0,attribute:"range-selector-hidden"})],key:"rangeSelectorHidden",value:function(){return!0}},{kind:"field",decorators:[(0,b.wk)()],key:"_visibleGroupAddresses",value:function(){return[]}},{kind:"field",decorators:[(0,b.wk)()],key:"_groupRangeAvailable",value:function(){return!1}},{kind:"method",key:"firstUpdated",value:function(){var n=this;this.knx.project?this._isGroupRangeAvailable():this.knx.loadProject().then((function(){n._isGroupRangeAvailable(),n.requestUpdate()}))}},{kind:"method",key:"_isGroupRangeAvailable",value:function(){var n,e,t=null!==(n=null===(e=this.knx.project)||void 0===e?void 0:e.knxproject.info.xknxproject_version)&&void 0!==n?n:"0.0.0";E.debug("project version: "+t),this._groupRangeAvailable=q(t,"3.3.0",">=")}},{kind:"field",key:"_columns",value:function(){var n=this;return(0,y.A)((function(e,t){var i="100px",a="82px",o="72px";return{address:{filterable:!0,sortable:!0,title:n.knx.localize("project_view_table_address"),width:i},name:{filterable:!0,sortable:!0,title:n.knx.localize("project_view_table_name"),width:"calc(100% - ".concat(a," - ").concat(i," - ").concat(o,")")},dpt:{sortable:!0,filterable:!0,title:n.knx.localize("project_view_table_dpt"),width:a,template:function(n){return n.dpt?(0,k.qy)(r||(r=(0,h.A)(['<span style="display:inline-block;width:24px;text-align:right;"\n                  >',"</span\n                >"," "])),n.dpt.main,n.dpt.sub?"."+n.dpt.sub.toString().padStart(3,"0"):""):""}},actions:{title:"",width:o,type:"overflow-menu",template:function(e){return n._groupAddressMenu(e)}}}}))}},{kind:"method",key:"_groupAddressMenu",value:function(n){var e,t=[];return 1===(null===(e=n.dpt)||void 0===e?void 0:e.main)&&t.push({path:"M19,13H13V19H11V13H5V11H11V5H13V11H19V13Z",label:this.knx.localize("project_view_add_switch"),action:function(){(0,w.o)("/knx/entities/create?ga="+n.address)}}),t.length?(0,k.qy)(i||(i=(0,h.A)(["\n          <ha-icon-overflow-menu .hass="," narrow .items=","> </ha-icon-overflow-menu>\n        "])),this.hass,t):k.s6}},{kind:"method",key:"_getRows",value:function(n){return n.length?Object.entries(this.knx.project.knxproject.group_addresses).reduce((function(e,t){var r=(0,p.A)(t,2),i=r[0],a=r[1];return n.includes(i)&&e.push(a),e}),[]):Object.values(this.knx.project.knxproject.group_addresses)}},{kind:"method",key:"_visibleAddressesChanged",value:function(n){this._visibleGroupAddresses=n.detail.groupAddresses}},{kind:"method",key:"render",value:function(){if(!this.hass||!this.knx.project)return(0,k.qy)(a||(a=(0,h.A)([" <hass-loading-screen></hass-loading-screen> "])));var n=this._getRows(this._visibleGroupAddresses);return(0,k.qy)(o||(o=(0,h.A)(["\n      <hass-tabs-subpage\n        .hass=","\n        .narrow=","\n        .route=","\n        .tabs=","\n        .localizeFunc=","\n      >\n        ","\n      </hass-tabs-subpage>\n    "])),this.hass,this.narrow,this.route,this.tabs,this.knx.localize,this.knx.project.project_loaded?(0,k.qy)(s||(s=(0,h.A)(["",'\n              <div class="sections">\n                ','\n                <ha-data-table\n                  class="ga-table"\n                  .hass=',"\n                  .columns=","\n                  .data=","\n                  .hasFab=","\n                  .searchLabel=","\n                  .clickable=","\n                ></ha-data-table>\n              </div>"])),this.narrow&&this._groupRangeAvailable?(0,k.qy)(d||(d=(0,h.A)(['<ha-icon-button\n                    slot="toolbar-icon"\n                    .label=',"\n                    .path=","\n                    @click=","\n                  ></ha-icon-button>"])),this.hass.localize("ui.components.related-filter-menu.filter"),"M6,13H18V11H6M3,6V8H21V6M10,18H14V16H10V18Z",this._toggleRangeSelector):k.s6,this._groupRangeAvailable?(0,k.qy)(c||(c=(0,h.A)(["\n                      <knx-project-tree-view\n                        .data=","\n                        @knx-group-range-selection-changed=","\n                      ></knx-project-tree-view>\n                    "])),this.knx.project.knxproject,this._visibleAddressesChanged):k.s6,this.hass,this._columns(this.narrow,this.hass.language),n,!1,this.hass.localize("ui.components.data-table.search"),!1):(0,k.qy)(l||(l=(0,h.A)([" <ha-card .header=",'>\n              <div class="card-content">\n                <p>',"</p>\n              </div>\n            </ha-card>"])),this.knx.localize("attention"),this.knx.localize("project_view_upload")))}},{kind:"method",key:"_toggleRangeSelector",value:function(){this.rangeSelectorHidden=!this.rangeSelectorHidden}},{kind:"get",static:!0,key:"styles",value:function(){return(0,k.AH)(u||(u=(0,h.A)(["\n      hass-loading-screen {\n        --app-header-background-color: var(--sidebar-background-color);\n        --app-header-text-color: var(--sidebar-text-color);\n      }\n      .sections {\n        display: flex;\n        flex-direction: row;\n        height: 100%;\n      }\n\n      :host([narrow]) knx-project-tree-view {\n        position: absolute;\n        max-width: calc(100% - 60px); /* 100% -> max 871px before not narrow */\n        z-index: 1;\n        right: 0;\n        transition: 0.5s;\n        border-left: 1px solid var(--divider-color);\n      }\n\n      :host([narrow][range-selector-hidden]) knx-project-tree-view {\n        width: 0;\n      }\n\n      :host(:not([narrow])) knx-project-tree-view {\n        max-width: 255px; /* min 616px - 816px for tree-view + ga-table (depending on side menu) */\n      }\n\n      .ga-table {\n        flex: 1;\n      }\n    "])))}}]}}),k.WF)},88449:function(n,e,t){var r=t(80962);n.exports=/Version\/10(?:\.\d+){1,2}(?: [\w./]+)?(?: Mobile\/\w+)? Safari\//.test(r)},50007:function(n,e,t){var r=t(82374),i=t(16464),a=t(83841),o=t(69015),s=t(43972),d=r(o),c=r("".slice),l=Math.ceil,u=function(n){return function(e,t,r){var o,u,p=a(s(e)),h=i(t),v=p.length,f=void 0===r?" ":a(r);return h<=v||""===f?p:((u=d(f,l((o=h-v)/f.length))).length>o&&(u=c(u,0,o)),n?p+u:u+p)}};n.exports={start:u(!1),end:u(!0)}},69015:function(n,e,t){var r=t(94905),i=t(83841),a=t(43972),o=RangeError;n.exports=function(n){var e=i(a(this)),t="",s=r(n);if(s<0||s===1/0)throw new o("Wrong number of repetitions");for(;s>0;(s>>>=1)&&(e+=e))1&s&&(t+=e);return t}},42566:function(n,e,t){var r=t(87568),i=t(50007).start;r({target:"String",proto:!0,forced:t(88449)},{padStart:function(n){return i(this,n,arguments.length>1?arguments[1]:void 0)}})},24104:function(n,e,t){var r=t(87568),i=t(8214);r({target:"String",proto:!0,forced:t(91543)("sub")},{sub:function(){return i(this,"sub","","")}})}}]);