[build-system]
requires = ["setuptools>=72", "wheel", "setuptools_scm>=8.1"]
build-backend = "setuptools.build_meta"

[tool.setuptools]
packages = ["fast_speedtest"]

[project]
name = "fastcom-speed-cli"
dynamic = ["version"]
description = "This package provides a command-line and Python interface for netflix's fast.com for speedtest"
readme = "readme.md"
authors = [{ name = "Ling Wang"}]
license = {file = "LICENSE"}
dependencies = [
    "playwright>=1.45.1"
]
requires-python = ">=3.10"

[project.urls]
repository = "https://github.com/braindevices/python-fast-cli"

[project.scripts]
fast-cli = "fast_speedtest.cli:main"

[tool.setuptools_scm]
write_to = "fast_speedtest/_version.py"
version_scheme="no-guess-dev"
local_scheme="node-and-timestamp"
write_to_template= """\
# file generated by setuptools_scm
# don't change, don't track in version control
TYPE_CHECKING = False
if TYPE_CHECKING:
    from typing import Tuple, Union
    VERSION_TUPLE = Tuple[Union[int, str], ...]
else:
    VERSION_TUPLE = object

version: str
__version__: str
__version_tuple__: VERSION_TUPLE
version_tuple: VERSION_TUPLE

__version__ = version = {version!r}
__version_tuple__ = version_tuple = {version_tuple!r}
scm_version = {{
"branch": "{scm_version.branch}",
"node": "{scm_version.node}",
"dirty": {scm_version.dirty}
}}
"""

[tool.ruff]
fix = false
target-version = "py38"
lint.select = ["E", "F", "B", "U", "YTT", "C", "DTZ", "PYI", "PT", "I", "FURB", "RUF"]
lint.ignore = ["E501"]
lint.preview = true
# exclude = ["**/*", "!fast_speedtest/**", "!tests/**"]

[tool.ruff.lint.isort]
force-single-line = true
from-first = false
lines-between-types = 1
order-by-type = true

[tool.pytest.ini_options]
testpaths = ["tests"]
log_level = "debug"
log_cli_level = "info"
